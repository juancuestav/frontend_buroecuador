var h=Object.defineProperty;var B=(e,o,r)=>o in e?h(e,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[o]=r;var l=(e,o,r)=>(B(e,typeof o!="symbol"?o+"":o,r),r);import{d as L,H as U,r as b,$,a0 as E,aa as P,c as g,V as k,K as w,X as N,P as c,M as s,j as n,a7 as Q,O as j,L as S,U as R,a4 as T,af as y,R as C,Q as A,ag as I,a5 as f,N as K}from"./index.aea1effc.js";import{Q as D}from"./QPage.161283b6.js";import{l as M,a as O}from"./utils.0382ea51.js";import{V as F}from"./style.c15b22dc.js";import{u as G}from"./configuracion_general.5f9f3bb0.js";import{i as J,n as z}from"./utils.27a4761f.js";import{u as H}from"./notificaciones.305263b9.js";import{_ as X}from"./plugin-vue_export-helper.21dcd24c.js";import"./_commonjsHelpers.80d8c10d.js";import"./ConfiguracionController.b68f652d.js";import"./TransacccionSimpleController.d6ace83b.js";import"./date.0b7cec79.js";import"./format.8ac60962.js";class W{constructor(){l(this,"email");l(this,"password");l(this,"password_confirmation");l(this,"remember_session");this.email="",this.password=null,this.password_confirmation=null,this.remember_session=!1}}var Y=L({name:"LoginPage",components:{LottiePlayer:F},setup(){const e=G(),o=U(),r=b(),t=$(new W),d=H(),u=new E,m=!0,i=!1,v=P(),q=async()=>{try{u.activar();const p=[(await o.login(t)).rol];if(m)return _(p)}catch(a){if(J(a)){const p=a.erroresValidacion;z(p,d)}}finally{u.desactivar()}},V=g(()=>t.email!==""&&t.password!==""),_=a=>{O(a,v),d.notificarCorrecto("Bienvenido a Bur\xF3 de Cr\xE9dito Ecuador!")},me=()=>{v.replace("/verificar-cuenta"),d.notificarCorrecto("Bienvenido a Trabajos Ecuador!")};return(async()=>{var a;await e.consultarConfiguracion(),e.cambiarFavicon(),r.value=(a=e.configuracion)==null?void 0:a.nombre_empresa})(),{logoClaro:g(()=>{var a;return(a=e.configuracion)==null?void 0:a.logo_claro}),logoOscuro:g(()=>{var a;return(a=e.configuracion)==null?void 0:a.logo_oscuro}),appName:r,store:o,isPwd:b(!0),loginUser:t,loginJson:M,enableLoginButton:V,login:q}}});const Z={class:"row items-center empresa"},x=["src"],ee={class:"q-ml-md text-h5"},oe={class:"row items-center"},se={key:0,class:"col-12 col-md-8 text-center q-pa-lg"},ae={class:"imagen d-flex align-items-center justify-content-center"},ie={class:"col-12 bg-grey-2 col-md-4 column items-center justify-center bg-white window-height q-px-sm"},re={class:"rounded full-width q-mb-lg"},ne={class:"col-12 q-mb-sm"},te={class:"col-12 q-mb-sm"},le={class:"col-12 q-mb-sm"},de={class:"col-12"},ce={class:"text-center"};function ue(e,o,r,t,d,u){const m=k("lottie-player");return w(),N(D,{class:"bg-grey-2f"},{default:c(()=>[s("div",Z,[n(Q,{square:""},{default:c(()=>[s("img",{src:e.$q.dark.isActive?e.logoOscuro:e.logoClaro},null,8,x)]),_:1}),s("span",ee,j(e.appName),1)]),s("div",oe,[!e.$q.screen.xs&&!e.$q.screen.sm?(w(),S("div",se,[s("div",ae,[n(m,{animationData:e.loginJson,background:"transparent",speed:1,style:{width:"400px",height:"400px"},loop:"",autoplay:""},null,8,["animationData"])])])):R("",!0),s("div",ie,[s("div",re,[s("form",{onSubmit:o[7]||(o[7]=T((...i)=>e.login&&e.login(...i),["prevent"])),class:"rounded bg-grey-2 q-pa-md q-py-lg"},[o[8]||(o[8]=s("div",{class:"q-mb-sm"},[s("div",{class:"text-center text-bold q-mb-md"}," Inicie sesi\xF3n con su cuenta ")],-1)),s("div",ne,[n(C,{modelValue:e.loginUser.email,"onUpdate:modelValue":o[0]||(o[0]=i=>e.loginUser.email=i),type:"email",label:"Correo",outlined:"",dense:"",onKeyup:o[1]||(o[1]=y(i=>e.login(),["enter"]))},null,8,["modelValue"])]),s("div",te,[n(C,{modelValue:e.loginUser.password,"onUpdate:modelValue":o[3]||(o[3]=i=>e.loginUser.password=i),label:"Contrase\xF1a",outlined:"",dense:"",type:e.isPwd?"password":"text",hint:"No comparta su contrase\xF1a con nadie",onKeyup:o[4]||(o[4]=y(i=>e.login(),["enter"]))},{append:c(()=>[n(A,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:o[2]||(o[2]=i=>e.isPwd=!e.isPwd)},null,8,["name"])]),_:1},8,["modelValue","type"])]),s("div",le,[n(I,{modelValue:e.loginUser.remember_session,"onUpdate:modelValue":o[5]||(o[5]=i=>e.loginUser.remember_session=i),label:"Recu\xE9rdame"},null,8,["modelValue"])]),s("div",de,[n(f,{color:"primary",label:"Iniciar sesi\xF3n",class:"full-width q-mb-sm",disabled:!e.enableLoginButton,"no-caps":"",unelevated:"",square:"",onClick:o[6]||(o[6]=i=>e.login())},null,8,["disabled"]),n(f,{to:{name:"register"},label:"Crear cuenta",class:"full-width",replace:"","no-caps":"",flat:""})])],32)]),s("div",ce,[o[10]||(o[10]=s("div",{class:"text-primary text-h5 q-mb-md"}," \xBFQuieres conocer tu situaci\xF3n crediticia personal? ",-1)),o[11]||(o[11]=s("div",{class:"q-mb-md"}," El reporte de cr\xE9dito te permite saber el estado de tus deudas y ordenar tus finanzas personales ",-1)),n(f,{color:"positive",href:"https://www.burodecredito.ec/servicios",target:"_blank","no-caps":"",unelevated:"",square:"",icon:"bi-stars"},{default:c(()=>o[9]||(o[9]=[K("Conoce todos nuestros servicios")])),_:1})])])])]),_:1})}var $e=X(Y,[["render",ue]]);export{$e as default};
