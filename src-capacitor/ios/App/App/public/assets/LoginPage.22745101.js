var h=Object.defineProperty;var E=(o,e,r)=>e in o?h(o,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[e]=r;var l=(o,e,r)=>(E(o,typeof e!="symbol"?e+"":e,r),r);import{d as L,G as B,r as b,_ as P,a7 as U,c as f,U as $,J as w,V as N,O as m,L as s,j as n,a4 as k,N as Q,K as j,S,a1 as T,ac as y,P as C,Q as I,ad as A,a2 as v,M as K}from"./index.6072a1b1.js";import{Q as R}from"./QPage.2411b3e2.js";import{l as D}from"./login_work.183f3a4d.js";import{V as G}from"./style.1e1d3f7f.js";import{S as J}from"./StatusEssentialLoading.d6258813.js";import{u as M}from"./configuracion_general.61c34ded.js";import{i as O,n as F}from"./utils.c7760b0c.js";import{u as z}from"./notificaciones.fe24470b.js";import{_ as x}from"./plugin-vue_export-helper.21dcd24c.js";import"./_commonjsHelpers.8402d862.js";import"./use-quasar.52f58024.js";import"./ConfiguracionController.02a36421.js";import"./TransacccionSimpleController.f4dc3690.js";import"./date.3330acff.js";import"./format.8ac60962.js";class H{constructor(){l(this,"email");l(this,"password");l(this,"password_confirmation");l(this,"remember_session");this.email="",this.password=null,this.password_confirmation=null,this.remember_session=!1}}var W=L({name:"LoginPage",components:{LottiePlayer:G},setup(){const o=M(),e=B(),r=b(),t=P(new H),d=z(),u=new J,p=!0,i=!1,c=U(),q=async()=>{try{u.activar();const g=[(await e.login(t)).rol];p&&_(g)}catch(a){if(O(a)){const g=a.erroresValidacion;F(g,d)}}finally{u.desactivar()}},V=f(()=>t.email!==""&&t.password!==""),_=a=>{e.extraerRol(a,"CLIENTE")?e.planPagado?c.replace("/archivos-reportes"):c.replace("/activar-app"):c.replace("/"),d.notificarCorrecto("Bienvenido a Bur\xF3 de Cr\xE9dito Ecuador!")},me=()=>{c.replace("/verificar-cuenta"),d.notificarCorrecto("Bienvenido a Trabajos Ecuador!")};return(async()=>{var a;await o.consultarConfiguracion(),o.cambiarFavicon(),r.value=(a=o.configuracion)==null?void 0:a.nombre_empresa})(),{logoClaro:f(()=>{var a;return(a=o.configuracion)==null?void 0:a.logo_claro}),logoOscuro:f(()=>{var a;return(a=o.configuracion)==null?void 0:a.logo_oscuro}),appName:r,store:e,isPwd:b(!0),loginUser:t,loginJson:D,enableLoginButton:V,login:q}}});const X={class:"row items-center empresa"},Y=["src"],Z={class:"q-ml-md text-h5"},ee={class:"row items-center"},oe={key:0,class:"col-12 col-md-8 text-center q-pa-lg"},se={class:"imagen d-flex align-items-center justify-content-center"},ae={class:"col-12 col-md-4 column items-center justify-center bg-white window-height q-px-sm"},ie={class:"border-grsey rounded full-width q-mb-lg"},re={class:"col-12 q-mb-sm"},ne={class:"col-12 q-mb-sm"},te={class:"col-12 q-mb-sm"},le={class:"col-12"},de={class:"text-center"};function ce(o,e,r,t,d,u){const p=$("lottie-player");return w(),N(R,{class:"bg-grey-2"},{default:m(()=>[s("div",X,[n(k,{square:""},{default:m(()=>[s("img",{src:o.$q.dark.isActive?o.logoOscuro:o.logoClaro},null,8,Y)]),_:1}),s("span",Z,Q(o.appName),1)]),s("div",ee,[!o.$q.screen.xs&&!o.$q.screen.sm?(w(),j("div",oe,[s("div",se,[n(p,{animationData:o.loginJson,background:"transparent",speed:1,style:{width:"400px",height:"400px"},loop:"",autoplay:""},null,8,["animationData"])])])):S("",!0),s("div",ae,[s("div",ie,[s("form",{onSubmit:e[7]||(e[7]=T((...i)=>o.login&&o.login(...i),["prevent"])),class:"rounded bg-grey-2 q-pa-md q-py-lg"},[e[8]||(e[8]=s("div",{class:"q-mb-sm"},[s("div",{class:"text-center text-bold q-mb-md"},"Inicie sesi\xF3n con su cuenta")],-1)),s("div",re,[n(C,{modelValue:o.loginUser.email,"onUpdate:modelValue":e[0]||(e[0]=i=>o.loginUser.email=i),type:"email",label:"Correo",outlined:"",dense:"",onKeyup:e[1]||(e[1]=y(i=>o.login(),["enter"]))},null,8,["modelValue"])]),s("div",ne,[n(C,{modelValue:o.loginUser.password,"onUpdate:modelValue":e[3]||(e[3]=i=>o.loginUser.password=i),label:"Contrase\xF1a",outlined:"",dense:"",type:o.isPwd?"password":"text",hint:"No comparta su contrase\xF1a con nadie",onKeyup:e[4]||(e[4]=y(i=>o.login(),["enter"]))},{append:m(()=>[n(I,{name:o.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:e[2]||(e[2]=i=>o.isPwd=!o.isPwd)},null,8,["name"])]),_:1},8,["modelValue","type"])]),s("div",te,[n(A,{modelValue:o.loginUser.remember_session,"onUpdate:modelValue":e[5]||(e[5]=i=>o.loginUser.remember_session=i),label:"Recu\xE9rdame"},null,8,["modelValue"])]),s("div",le,[n(v,{color:"primary",label:"Iniciar sesi\xF3n",class:"full-width q-mb-sm",disabled:!o.enableLoginButton,"no-caps":"",unelevated:"",onClick:e[6]||(e[6]=i=>o.login())},null,8,["disabled"]),n(v,{to:{name:"register"},label:"Crear cuenta",class:"full-width",replace:"","no-caps":"",flat:""})])],32)]),s("div",de,[e[10]||(e[10]=s("div",{class:"text-primary text-h5 q-mb-md"}," \xBFQuieres conocer tu situaci\xF3n crediticia personal? ",-1)),e[11]||(e[11]=s("div",{class:"q-mb-md"}," El reporte de cr\xE9dito te permite saber el estado de tus deudas y ordenar tus finanzas personales ",-1)),n(v,{color:"positive",href:"https://www.burodecredito.ec/servicios",target:"_blank","no-caps":"",unelevated:"",icon:"bi-stars"},{default:m(()=>e[9]||(e[9]=[K("Conoce todos nuestros servicios")])),_:1})])])])]),_:1})}var Ue=x(W,[["render",ce]]);export{Ue as default};
