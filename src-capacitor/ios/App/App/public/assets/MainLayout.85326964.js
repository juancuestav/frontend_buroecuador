var vo=Object.defineProperty;var mo=(a,d,O)=>d in a?vo(a,d,{enumerable:!0,configurable:!0,writable:!0,value:O}):a[d]=O;var be=(a,d,O)=>(mo(a,typeof d!="symbol"?d+"":d,O),O);import{k as yn,i as _n,l as Ye,r as ve,c as H,w as le,m as bn,n as go,h as He,g as wn,p as Sn,u as yo,q as _o,t as bo,v as wo,x as So,y as ko,z as Co,o as kn,A as ln,B as qt,C as fn,D as To,E as xo,G as Ue,H as Cn,I as Po,J as X,K as Se,L as Z,M as _e,d as pt,N as Ce,j as E,O as D,Q as Te,P as $t,R as Oo,S as we,U as tt,V as ge,F as rt,X as it,Y as Tn,Z as xn,_ as Lo,$ as Ao,a0 as Eo,a1 as Mo,a2 as Be,a3 as At,a4 as nt,a5 as Ro,a6 as Do,a7 as $o,a8 as dn,a9 as jo,aa as Et,ab as Mt,ac as ft,ad as qo,ae as No,af as Io}from"./index.6072a1b1.js";import{Q as xe,a as je,b as Je}from"./QItem.159d8e83.js";import{Q as Ho,a as jt}from"./QBadge.1ab9ad97.js";import{Q as Pn}from"./QMenu.6c964ac0.js";import{Q as On,a as Bo,C as Uo}from"./QTooltip.0b1018fa.js";import{Q as zo}from"./QResizeObserver.cd2c994f.js";import{Q as Fo}from"./QScrollArea.7cd516d9.js";import{T as Rt}from"./TouchPan.e744ede7.js";import{b as dt}from"./format.8ac60962.js";import{_ as Vo,Q as Wo,a as Qo}from"./EssentialLoading.61f647b5.js";import{u as Yo}from"./configuracion_general.61c34ded.js";import{u as Ln}from"./use-quasar.52f58024.js";import{e as Jo}from"./utils.508c826c.js";import{_ as vt}from"./plugin-vue_export-helper.21dcd24c.js";import{u as An}from"./notificaciones.fe24470b.js";import{u as Xo}from"./chat.c35c6cbf.js";import{Q as En}from"./QExpansionItem.10361b70.js";import{c as Nt,g as Go}from"./_commonjsHelpers.8402d862.js";import{S as Ko}from"./StatusEssentialLoading.d6258813.js";import{E as Zo}from"./entidadAuditable.9f5621ba.js";import{T as ea}from"./TransacccionSimpleController.f4dc3690.js";import"./position-engine.71479b28.js";import"./selection.ec88bd7c.js";import"./QScrollObserver.e3b5a4e0.js";import"./touch.9135741d.js";import"./QCircularProgress.dce56917.js";import"./ConfiguracionController.02a36421.js";import"./Hidratable.166e9fe1.js";var ta=yn({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(a,{slots:d,emit:O}){const{proxy:{$q:w}}=wn(),g=_n(Sn,Ye);if(g===Ye)return console.error("QHeader needs to be child of QLayout"),Ye;const m=ve(parseInt(a.heightHint,10)),f=ve(!0),R=H(()=>a.reveal===!0||g.view.value.indexOf("H")!==-1||w.platform.is.ios&&g.isContainer.value===!0),x=H(()=>{if(a.modelValue!==!0)return 0;if(R.value===!0)return f.value===!0?m.value:0;const v=m.value-g.scroll.value.position;return v>0?v:0}),j=H(()=>a.modelValue!==!0||R.value===!0&&f.value!==!0),s=H(()=>a.modelValue===!0&&j.value===!0&&a.reveal===!0),L=H(()=>"q-header q-layout__section--marginal "+(R.value===!0?"fixed":"absolute")+"-top"+(a.bordered===!0?" q-header--bordered":"")+(j.value===!0?" q-header--hidden":"")+(a.modelValue!==!0?" q-layout--prevent-focus":"")),P=H(()=>{const v=g.rows.value.top,I={};return v[0]==="l"&&g.left.space===!0&&(I[w.lang.rtl===!0?"right":"left"]=`${g.left.size}px`),v[2]==="r"&&g.right.space===!0&&(I[w.lang.rtl===!0?"left":"right"]=`${g.right.size}px`),I});function h(v,I){g.update("header",v,I)}function S(v,I){v.value!==I&&(v.value=I)}function b({height:v}){S(m,v),h("size",v)}function u(v){s.value===!0&&S(f,!0),O("focusin",v)}le(()=>a.modelValue,v=>{h("space",v),S(f,!0),g.animate()}),le(x,v=>{h("offset",v)}),le(()=>a.reveal,v=>{v===!1&&S(f,a.modelValue)}),le(f,v=>{g.animate(),O("reveal",v)}),le(g.scroll,v=>{a.reveal===!0&&S(f,v.direction==="up"||v.position<=a.revealOffset||v.position-v.inflectionPoint<100)});const l={};return g.instances.header=l,a.modelValue===!0&&h("size",m.value),h("space",a.modelValue),h("offset",x.value),bn(()=>{g.instances.header===l&&(g.instances.header=void 0,h("size",0),h("offset",0),h("space",!1))}),()=>{const v=go(d.default,[]);return a.elevated===!0&&v.push(He("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),v.push(He(zo,{debounce:0,onResize:b})),He("header",{class:L.value,style:P.value,onFocusin:u},v)}}});const hn=150;var na=yn({name:"QDrawer",inheritAttrs:!1,props:{...yo,..._o,side:{type:String,default:"left",validator:a=>["left","right"].includes(a)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:a=>["default","desktop","mobile"].includes(a),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...bo,"onLayout","miniState"],setup(a,{slots:d,emit:O,attrs:w}){const g=wn(),{proxy:{$q:m}}=g,f=wo(a,m),{preventBodyScroll:R}=xo(),{registerTimeout:x,removeTimeout:j}=So(),s=_n(Sn,Ye);if(s===Ye)return console.error("QDrawer needs to be child of QLayout"),Ye;let L,P=null,h;const S=ve(a.behavior==="mobile"||a.behavior!=="desktop"&&s.totalWidth.value<=a.breakpoint),b=H(()=>a.mini===!0&&S.value!==!0),u=H(()=>b.value===!0?a.miniWidth:a.width),l=ve(a.showIfAbove===!0&&S.value===!1?!0:a.modelValue===!0),v=H(()=>a.persistent!==!0&&(S.value===!0||q.value===!0));function I(_,W){if(ue(),_!==!1&&s.animate(),de(0),S.value===!0){const ye=s.instances[y.value];ye!==void 0&&ye.belowBreakpoint===!0&&ye.hide(!1),Le(1),s.isContainer.value!==!0&&R(!0)}else Le(0),_!==!1&&Me(!1);x(()=>{_!==!1&&Me(!0),W!==!0&&O("show",_)},hn)}function K(_,W){ae(),_!==!1&&s.animate(),Le(0),de(z.value*u.value),ze(),W!==!0?x(()=>{O("hide",_)},hn):j()}const{show:V,hide:Q}=ko({showing:l,hideOnRouteChange:v,handleShow:I,handleHide:K}),{addToHistory:ue,removeFromHistory:ae}=Co(l,Q,v),te={belowBreakpoint:S,hide:Q},B=H(()=>a.side==="right"),z=H(()=>(m.lang.rtl===!0?-1:1)*(B.value===!0?1:-1)),J=ve(0),G=ve(!1),M=ve(!1),k=ve(u.value*z.value),y=H(()=>B.value===!0?"left":"right"),A=H(()=>l.value===!0&&S.value===!1&&a.overlay===!1?a.miniToOverlay===!0?a.miniWidth:u.value:0),C=H(()=>a.overlay===!0||a.miniToOverlay===!0||s.view.value.indexOf(B.value?"R":"L")!==-1||m.platform.is.ios===!0&&s.isContainer.value===!0),$=H(()=>a.overlay===!1&&l.value===!0&&S.value===!1),q=H(()=>a.overlay===!0&&l.value===!0&&S.value===!1),Y=H(()=>"fullscreen q-drawer__backdrop"+(l.value===!1&&G.value===!1?" hidden":"")),ee=H(()=>({backgroundColor:`rgba(0,0,0,${J.value*.4})`})),se=H(()=>B.value===!0?s.rows.value.top[2]==="r":s.rows.value.top[0]==="l"),fe=H(()=>B.value===!0?s.rows.value.bottom[2]==="r":s.rows.value.bottom[0]==="l"),ce=H(()=>{const _={};return s.header.space===!0&&se.value===!1&&(C.value===!0?_.top=`${s.header.offset}px`:s.header.space===!0&&(_.top=`${s.header.size}px`)),s.footer.space===!0&&fe.value===!1&&(C.value===!0?_.bottom=`${s.footer.offset}px`:s.footer.space===!0&&(_.bottom=`${s.footer.size}px`)),_}),Oe=H(()=>{const _={width:`${u.value}px`,transform:`translateX(${k.value}px)`};return S.value===!0?_:Object.assign(_,ce.value)}),Pe=H(()=>"q-drawer__content fit "+(s.isContainer.value!==!0?"scroll":"overflow-auto")),ne=H(()=>`q-drawer q-drawer--${a.side}`+(M.value===!0?" q-drawer--mini-animate":"")+(a.bordered===!0?" q-drawer--bordered":"")+(f.value===!0?" q-drawer--dark q-dark":"")+(G.value===!0?" no-transition":l.value===!0?"":" q-layout--prevent-focus")+(S.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${b.value===!0?"mini":"standard"}`+(C.value===!0||$.value!==!0?" fixed":"")+(a.overlay===!0||a.miniToOverlay===!0?" q-drawer--on-top":"")+(se.value===!0?" q-drawer--top-padding":""))),re=H(()=>{const _=m.lang.rtl===!0?a.side:y.value;return[[Rt,mt,void 0,{[_]:!0,mouse:!0}]]}),me=H(()=>{const _=m.lang.rtl===!0?y.value:a.side;return[[Rt,Xe,void 0,{[_]:!0,mouse:!0}]]}),ke=H(()=>{const _=m.lang.rtl===!0?y.value:a.side;return[[Rt,Xe,void 0,{[_]:!0,mouse:!0,mouseAllDir:!0}]]});function pe(){st(S,a.behavior==="mobile"||a.behavior!=="desktop"&&s.totalWidth.value<=a.breakpoint)}le(S,_=>{_===!0?(L=l.value,l.value===!0&&Q(!1)):a.overlay===!1&&a.behavior!=="mobile"&&L!==!1&&(l.value===!0?(de(0),Le(0),ze()):V(!1))}),le(()=>a.side,(_,W)=>{s.instances[W]===te&&(s.instances[W]=void 0,s[W].space=!1,s[W].offset=0),s.instances[_]=te,s[_].size=u.value,s[_].space=$.value,s[_].offset=A.value}),le(s.totalWidth,()=>{(s.isContainer.value===!0||document.qScrollPrevented!==!0)&&pe()}),le(()=>a.behavior+a.breakpoint,pe),le(s.isContainer,_=>{l.value===!0&&R(_!==!0),_===!0&&pe()}),le(s.scrollbarWidth,()=>{de(l.value===!0?0:void 0)}),le(A,_=>{Ae("offset",_)}),le($,_=>{O("onLayout",_),Ae("space",_)}),le(B,()=>{de()}),le(u,_=>{de(),Ge(a.miniToOverlay,_)}),le(()=>a.miniToOverlay,_=>{Ge(_,u.value)}),le(()=>m.lang.rtl,()=>{de()}),le(()=>a.mini,()=>{a.noMiniAnimation||a.modelValue===!0&&(at(),s.animate())}),le(b,_=>{O("miniState",_)});function de(_){_===void 0?ln(()=>{_=l.value===!0?0:u.value,de(z.value*_)}):(s.isContainer.value===!0&&B.value===!0&&(S.value===!0||Math.abs(_)===u.value)&&(_+=z.value*s.scrollbarWidth.value),k.value=_)}function Le(_){J.value=_}function Me(_){const W=_===!0?"remove":s.isContainer.value!==!0?"add":"";W!==""&&document.body.classList[W]("q-body--drawer-toggle")}function at(){P!==null&&clearTimeout(P),g.proxy&&g.proxy.$el&&g.proxy.$el.classList.add("q-drawer--mini-animate"),M.value=!0,P=setTimeout(()=>{P=null,M.value=!1,g&&g.proxy&&g.proxy.$el&&g.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function mt(_){if(l.value!==!1)return;const W=u.value,ye=dt(_.distance.x,0,W);if(_.isFinal===!0){ye>=Math.min(75,W)===!0?V():(s.animate(),Le(0),de(z.value*W)),G.value=!1;return}de((m.lang.rtl===!0?B.value!==!0:B.value)?Math.max(W-ye,0):Math.min(0,ye-W)),Le(dt(ye/W,0,1)),_.isFirst===!0&&(G.value=!0)}function Xe(_){if(l.value!==!0)return;const W=u.value,ye=_.direction===a.side,Re=(m.lang.rtl===!0?ye!==!0:ye)?dt(_.distance.x,0,W):0;if(_.isFinal===!0){Math.abs(Re)<Math.min(75,W)===!0?(s.animate(),Le(1),de(0)):Q(),G.value=!1;return}de(z.value*Re),Le(dt(1-Re/W,0,1)),_.isFirst===!0&&(G.value=!0)}function ze(){R(!1),Me(!0)}function Ae(_,W){s.update(a.side,_,W)}function st(_,W){_.value!==W&&(_.value=W)}function Ge(_,W){Ae("size",_===!0?a.miniWidth:W)}return s.instances[a.side]=te,Ge(a.miniToOverlay,u.value),Ae("space",$.value),Ae("offset",A.value),a.showIfAbove===!0&&a.modelValue!==!0&&l.value===!0&&a["onUpdate:modelValue"]!==void 0&&O("update:modelValue",!0),kn(()=>{O("onLayout",$.value),O("miniState",b.value),L=a.showIfAbove===!0;const _=()=>{(l.value===!0?I:K)(!1,!0)};if(s.totalWidth.value!==0){ln(_);return}h=le(s.totalWidth,()=>{h(),h=void 0,l.value===!1&&a.showIfAbove===!0&&S.value===!1?V(!1):_()})}),bn(()=>{h!==void 0&&h(),P!==null&&(clearTimeout(P),P=null),l.value===!0&&ze(),s.instances[a.side]===te&&(s.instances[a.side]=void 0,Ae("size",0),Ae("offset",0),Ae("space",!1))}),()=>{const _=[];S.value===!0&&(a.noSwipeOpen===!1&&_.push(qt(He("div",{key:"open",class:`q-drawer__opener fixed-${a.side}`,"aria-hidden":"true"}),re.value)),_.push(fn("div",{ref:"backdrop",class:Y.value,style:ee.value,"aria-hidden":"true",onClick:Q},void 0,"backdrop",a.noSwipeBackdrop!==!0&&l.value===!0,()=>ke.value)));const W=b.value===!0&&d.mini!==void 0,ye=[He("div",{...w,key:""+W,class:[Pe.value,w.class]},W===!0?d.mini():To(d.default))];return a.elevated===!0&&l.value===!0&&ye.push(He("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),_.push(fn("aside",{ref:"content",class:ne.value,style:Oe.value},ye,"contentclose",a.noSwipeClose!==!0&&S.value===!0,()=>me.value)),He("div",{class:"q-drawer-container"},_)}}});const oe=Ue(),Mn=H(()=>oe.hasRole("CLIENTE")),We=Mn.value?oe.planPagado:!0,ra=H(()=>[{header:"Menu",can:oe.can("acceder.tablero")},{title:"Tablero",icon:"bi-layers-fill",link:"/",can:oe.can("acceder.tablero")},{title:"Formulario de contacto",icon:"bi-bell",link:"formulario-contacto",can:oe.can("acceder.formulario_contacto")},{title:"Facturaci\xF3n de planes",icon:"bi-receipt",link:"facturacion-planes",can:oe.can("acceder.facturacion_planes")},{title:"Solicitudes de mejoramiento",icon:"bi-graph-up-arrow",link:"solicitudes-mejoramiento",can:oe.can("acceder.solicitud_mejoramiento")},{title:"Pedidos de servicios",icon:"bi-clipboard-fill",link:"pedidos",can:oe.can("acceder.pedidos")},{title:"Reportes",icon:"bi-journal-bookmark",link:"notificaciones",can:oe.can("acceder.reportes"),children:[{title:"Crear reporte",icon:"bi-dash-circle-dotted",link:"crear-reporte"},{title:"Consultar reportes",icon:"bi-dash-circle-dotted",link:"consultar-reporte"}]},{header:"Modulos",can:!0},{title:"Activar app",icon:"bi-toggle-on",link:"activar-app",can:oe.can("acceder.activar_app")&&!We},{title:Mn.value?"Mi Bur\xF3":"Compartir archivos a clientes",icon:"bi-archive",link:"archivos-reportes",can:oe.can("acceder.archivos_reportes")&&We},{title:"Planes y servicios",icon:"bi-person-workspace",link:"servicios",can:oe.can("acceder.servicios")},{title:"Categor\xEDas de planes y servicios",icon:"bi-collection",link:"categorias",can:oe.can("acceder.categorias")},{title:"Usuarios",icon:"bi-person-fill",link:"usuarios",can:oe.can("acceder.usuarios")},{title:"Score crediticio",icon:"bi-journal-arrow-up",link:"score-crediticio",can:oe.can("acceder.score_crediticio")&&!We},{title:"Adquirir servicio",icon:"bi-person-workspace",link:"adquirir-servicios",can:oe.can("acceder.adquirir_servicio")&&!We},{title:"Solicitar mejoramiento",icon:"bi-graph-up-arrow",link:"mejoramiento",can:oe.can("acceder.mejoramiento")},{title:"Reporte de cr\xE9dito",icon:"bi-star",link:"reporte-credito",can:oe.can("acceder.reporte_credito")&&!We},{title:"Mis reportes",icon:"bi-clipboard",link:"mis-reportes",can:oe.can("acceder.mis_reportes")&&!We},{title:"Chat en l\xEDnea",icon:"bi-whatsapp",link:"chat-en-linea",can:oe.can("acceder.chat_linea")},{title:"Notificar a clientes",icon:"bi-envelope-plus",link:"notificar-clientes",can:oe.can("acceder.notificar_clientes")},{title:"Novedades",icon:"bi-envelope-check",link:"notificaciones-generales",can:oe.can("acceder.notificaciones_generales")},{title:"Solicitud de cr\xE9dito",icon:"bi-check-circle",link:"https://bit.ly/SOLIBRC",target:"_blank",can:!0},{title:"Email marketing",icon:"bi-table	",link:"email-marketing",can:oe.can("acceder.email_marketing")},{title:"Publicidad popup",icon:"bi-badge-ad",link:"popup",can:oe.can("acceder.popup")}]),et=Ue();H(()=>{var a,d,O;return[{header:"Modulos",can:!0},{title:"Tablero",icon:"bi-layers-fill",link:"/",can:et.can("tablero")},{title:"Verifica tu cuenta",icon:"bi-person-workspace",link:"verificar-cuenta",can:!0},{title:"Aprobar verificaci\xF3n de cuenta",icon:"bi-person-workspace",link:"aprobar-verificar-cuenta",can:((a=et.user)==null?void 0:a.rol)==="ADMINISTRADOR"},{title:"Ver ofertas disponibles",icon:"bi-collection",link:"ofertas-disponibles",can:((d=et.user)==null?void 0:d.estado_verificacion)===Jo.VERIFICADO||((O=et.user)==null?void 0:O.rol)==="ADMINISTRADOR"},{title:"Usuarios",icon:"bi-person-fill",link:"usuarios",can:et.can("usuarios")}]});const Qe=Ue(),ia=H(()=>[{header:"Administraci\xF3n",can:Qe.can("acceder.modulo_administracion")},{title:"Roles",icon:"bi-person-badge",link:"roles",can:Qe.can("acceder.roles")},{title:"Permisos",link:"permisos",icon:"bi-key-fill",can:Qe.can("acceder.permisos")},{title:"Permisos en roles",link:"permisos-roles",icon:"bi-person-badge-fill",can:Qe.can("acceder.permisos_roles")},{title:"Permisos de usuarios",link:"permisos-usuarios",icon:"bi-person-lock",can:Qe.can("acceder.permisos_usuarios")},{title:"Configuraci\xF3n",icon:"bi-gear-fill",link:"configuraciones-generales",can:Qe.can("acceder.configuraciones_generales")}]),oa=Cn("menu",()=>({links:H(()=>[...ra.value,...ia.value])}));var ht;(function(a){a.Dark="DARK",a.Light="LIGHT",a.Default="DEFAULT"})(ht||(ht={}));var pn;(function(a){a.None="NONE",a.Slide="SLIDE",a.Fade="FADE"})(pn||(pn={}));const vn=Po("StatusBar");const aa={},sa={class:"bg-white q-pa-xs q-pl-md footer"};function ca(a,d){return X(),Se("small",sa,d[0]||(d[0]=[Z("strong",null,"Copyright \xA9 2022",-1),_e(". Todos los derechos reservados por "),Z("strong",null,"Bur\xF3 de cr\xE9dito Ecuador",-1),_e(". ")]))}var ua=vt(aa,[["render",ca]]);const la=pt({setup(){const a=Xo(),d=H(()=>a.mostrar),O=H(()=>a.notificacion),w=H({get:()=>a.chat,set:R=>a.setChat(R)});function g(R){var j;const x=document.querySelector("textarea");if(x){x.style.height="40px";let s=(j=R.target)==null?void 0:j.scrollHeight;x.style.height=`${s}px`}}function m(){a.ocultarChat(),a.resetChat()}function f(){const{notificarAdvertencia:R}=An();if(!w.value.mensaje)return R("No puede enviar un mensaje vacio.");const x=O.value.data.celular,j="593"+x.substring(1,x.length);let s;window.innerWidth<768?s=`https://api.whatsapp.com/send?phone=${j}`:s=`https://web.whatsapp.com/send?phone=${j}`,window.open(s,"_blank"),m()}return{chat:w,mostrarChat:d,ocultarChat:m,gestionarLineas:g,notificacion:O,enviarMensaje:f}}}),fa={key:0,class:"chat"},da={class:"header-chat"},ha={class:"body-chat"},pa={class:"q-mb-md"},va={class:"block q-mb-sm"},ma={class:"block q-mb-sm"},ga={class:"input-chat"};function ya(a,d,O,w,g,m){return a.mostrarChat?(X(),Se("div",fa,[Z("div",da,[Z("span",null,Ce(`${a.notificacion.data.nombre} ${a.notificacion.data.apellidos}`),1),E(Te,{onClick:d[0]||(d[0]=f=>a.ocultarChat()),name:"bi-x",size:"sm",class:"cursor-pointer"},{default:D(()=>[E(On,{class:"bg-dark",disable:a.$q.platform.is.mobile},{default:D(()=>d[6]||(d[6]=[_e(Ce("Cerrar chat"))])),_:1},8,["disable"])]),_:1})]),Z("div",ha,[d[9]||(d[9]=Z("small",{class:"block q-py-sm"},"Responder mensaje al Whatsapp del contacto",-1)),Z("div",pa,[Z("label",va,[E(Te,{name:"bi-whatsapp",class:"q-mr-sm",color:"grey-10"}),d[7]||(d[7]=_e("Whatsapp del contacto "))]),E($t,{class:"q-pb-md",modelValue:a.notificacion.data.celular,"onUpdate:modelValue":d[1]||(d[1]=f=>a.notificacion.data.celular=f),disable:"",outlined:"",dense:""},null,8,["modelValue"]),Z("label",ma,[E(Te,{name:"bi-envelope-open",class:"q-mr-sm",color:"grey-10"}),d[8]||(d[8]=_e("Mensaje recibido "))])]),E($t,{class:"text-start",type:"textarea",autogrow:"",outlined:"",disable:"",dense:"",modelValue:a.notificacion.data.mensaje,"onUpdate:modelValue":d[2]||(d[2]=f=>a.notificacion.data.mensaje=f)},null,8,["modelValue"])]),Z("div",ga,[qt(Z("textarea",{"onUpdate:modelValue":d[3]||(d[3]=f=>a.chat.mensaje=f),onKeyup:d[4]||(d[4]=(...f)=>a.gestionarLineas&&a.gestionarLineas(...f)),class:"input-message",placeholder:"Responder..."},null,544),[[Oo,a.chat.mensaje]]),Z("button",{class:"boton-enviar",onClick:d[5]||(d[5]=f=>a.enviarMensaje())},d[10]||(d[10]=[Z("i",{class:"bi-send"},null,-1)]))])])):we("",!0)}var _a=vt(la,[["render",ya],["__scopeId","data-v-a49a25e0"]]);const ba=pt({name:"EssentialLink",props:{title:{type:String,required:!0},link:{type:String,default:"#"},target:{type:String,default:"_self"},icon:{type:String,default:""},children:{type:Object,required:!1},can:{type:Boolean,default:!0}}}),wa={key:0};function Sa(a,d,O,w,g,m){const f=tt("EssentialLink",!0);return a.can?(X(),Se("div",wa,[!a.children&&a.target==="_self"?(X(),ge(Je,{key:0,clickable:"",tag:"a",to:a.link,"active-class":"link-active",exact:""},{default:D(()=>[a.icon?(X(),ge(xe,{key:0,avatar:""},{default:D(()=>[E(Te,{name:a.icon,size:"xs",class:"color-icono"},null,8,["name"])]),_:1})):we("",!0),E(xe,null,{default:D(()=>[E(je,null,{default:D(()=>[_e(Ce(a.title),1)]),_:1})]),_:1})]),_:1},8,["to"])):we("",!0),!a.children&&a.target==="_blank"?(X(),ge(Je,{key:1,clickable:"",tag:"a",href:a.link,target:a.target,"active-class":"link-active",exact:""},{default:D(()=>[a.icon?(X(),ge(xe,{key:0,avatar:""},{default:D(()=>[E(Te,{name:a.icon,size:"xs",class:"color-icono"},null,8,["name"])]),_:1})):we("",!0),E(xe,null,{default:D(()=>[E(je,{class:"color-label-drawer"},{default:D(()=>[_e(Ce(a.title),1)]),_:1})]),_:1})]),_:1},8,["href","target"])):we("",!0),a.children?(X(),ge(En,{key:2,clickable:"",tag:"a","active-class":"link-active",exact:""},{header:D(()=>[a.icon?(X(),ge(xe,{key:0,avatar:""},{default:D(()=>[E(Te,{name:a.icon,size:"xs",class:"color-icono"},null,8,["name"])]),_:1})):we("",!0),E(xe,null,{default:D(()=>[E(je,null,{default:D(()=>[_e(Ce(a.title),1)]),_:1})]),_:1})]),default:D(()=>[(X(!0),Se(rt,null,it(a.children,R=>{var x;return X(),Se("div",{key:R.title},[E(f,{title:(x=R.title)!=null?x:"",link:R.link,icon:R.icon,children:R.children,can:R.can,class:Tn({"bg-desenfoque border-white rounded q-mb-xs":!!R.children})},null,8,["title","link","icon","children","can","class"])])}),128))]),_:1})):we("",!0)])):we("",!0)}var ka=vt(ba,[["render",Sa]]),It={exports:{}};(function(a,d){(function(O,w){a.exports=w()})(Nt,function(){var O=1e3,w=6e4,g=36e5,m="millisecond",f="second",R="minute",x="hour",j="day",s="week",L="month",P="quarter",h="year",S="date",b="Invalid Date",u=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,l=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(M){var k=["th","st","nd","rd"],y=M%100;return"["+M+(k[(y-20)%10]||k[y]||k[0])+"]"}},I=function(M,k,y){var A=String(M);return!A||A.length>=k?M:""+Array(k+1-A.length).join(y)+M},K={s:I,z:function(M){var k=-M.utcOffset(),y=Math.abs(k),A=Math.floor(y/60),C=y%60;return(k<=0?"+":"-")+I(A,2,"0")+":"+I(C,2,"0")},m:function M(k,y){if(k.date()<y.date())return-M(y,k);var A=12*(y.year()-k.year())+(y.month()-k.month()),C=k.clone().add(A,L),$=y-C<0,q=k.clone().add(A+($?-1:1),L);return+(-(A+(y-C)/($?C-q:q-C))||0)},a:function(M){return M<0?Math.ceil(M)||0:Math.floor(M)},p:function(M){return{M:L,y:h,w:s,d:j,D:S,h:x,m:R,s:f,ms:m,Q:P}[M]||String(M||"").toLowerCase().replace(/s$/,"")},u:function(M){return M===void 0}},V="en",Q={};Q[V]=v;var ue="$isDayjsObject",ae=function(M){return M instanceof J||!(!M||!M[ue])},te=function M(k,y,A){var C;if(!k)return V;if(typeof k=="string"){var $=k.toLowerCase();Q[$]&&(C=$),y&&(Q[$]=y,C=$);var q=k.split("-");if(!C&&q.length>1)return M(q[0])}else{var Y=k.name;Q[Y]=k,C=Y}return!A&&C&&(V=C),C||!A&&V},B=function(M,k){if(ae(M))return M.clone();var y=typeof k=="object"?k:{};return y.date=M,y.args=arguments,new J(y)},z=K;z.l=te,z.i=ae,z.w=function(M,k){return B(M,{locale:k.$L,utc:k.$u,x:k.$x,$offset:k.$offset})};var J=function(){function M(y){this.$L=te(y.locale,null,!0),this.parse(y),this.$x=this.$x||y.x||{},this[ue]=!0}var k=M.prototype;return k.parse=function(y){this.$d=function(A){var C=A.date,$=A.utc;if(C===null)return new Date(NaN);if(z.u(C))return new Date;if(C instanceof Date)return new Date(C);if(typeof C=="string"&&!/Z$/i.test(C)){var q=C.match(u);if(q){var Y=q[2]-1||0,ee=(q[7]||"0").substring(0,3);return $?new Date(Date.UTC(q[1],Y,q[3]||1,q[4]||0,q[5]||0,q[6]||0,ee)):new Date(q[1],Y,q[3]||1,q[4]||0,q[5]||0,q[6]||0,ee)}}return new Date(C)}(y),this.init()},k.init=function(){var y=this.$d;this.$y=y.getFullYear(),this.$M=y.getMonth(),this.$D=y.getDate(),this.$W=y.getDay(),this.$H=y.getHours(),this.$m=y.getMinutes(),this.$s=y.getSeconds(),this.$ms=y.getMilliseconds()},k.$utils=function(){return z},k.isValid=function(){return this.$d.toString()!==b},k.isSame=function(y,A){var C=B(y);return this.startOf(A)<=C&&C<=this.endOf(A)},k.isAfter=function(y,A){return B(y)<this.startOf(A)},k.isBefore=function(y,A){return this.endOf(A)<B(y)},k.$g=function(y,A,C){return z.u(y)?this[A]:this.set(C,y)},k.unix=function(){return Math.floor(this.valueOf()/1e3)},k.valueOf=function(){return this.$d.getTime()},k.startOf=function(y,A){var C=this,$=!!z.u(A)||A,q=z.p(y),Y=function(re,me){var ke=z.w(C.$u?Date.UTC(C.$y,me,re):new Date(C.$y,me,re),C);return $?ke:ke.endOf(j)},ee=function(re,me){return z.w(C.toDate()[re].apply(C.toDate("s"),($?[0,0,0,0]:[23,59,59,999]).slice(me)),C)},se=this.$W,fe=this.$M,ce=this.$D,Oe="set"+(this.$u?"UTC":"");switch(q){case h:return $?Y(1,0):Y(31,11);case L:return $?Y(1,fe):Y(0,fe+1);case s:var Pe=this.$locale().weekStart||0,ne=(se<Pe?se+7:se)-Pe;return Y($?ce-ne:ce+(6-ne),fe);case j:case S:return ee(Oe+"Hours",0);case x:return ee(Oe+"Minutes",1);case R:return ee(Oe+"Seconds",2);case f:return ee(Oe+"Milliseconds",3);default:return this.clone()}},k.endOf=function(y){return this.startOf(y,!1)},k.$set=function(y,A){var C,$=z.p(y),q="set"+(this.$u?"UTC":""),Y=(C={},C[j]=q+"Date",C[S]=q+"Date",C[L]=q+"Month",C[h]=q+"FullYear",C[x]=q+"Hours",C[R]=q+"Minutes",C[f]=q+"Seconds",C[m]=q+"Milliseconds",C)[$],ee=$===j?this.$D+(A-this.$W):A;if($===L||$===h){var se=this.clone().set(S,1);se.$d[Y](ee),se.init(),this.$d=se.set(S,Math.min(this.$D,se.daysInMonth())).$d}else Y&&this.$d[Y](ee);return this.init(),this},k.set=function(y,A){return this.clone().$set(y,A)},k.get=function(y){return this[z.p(y)]()},k.add=function(y,A){var C,$=this;y=Number(y);var q=z.p(A),Y=function(fe){var ce=B($);return z.w(ce.date(ce.date()+Math.round(fe*y)),$)};if(q===L)return this.set(L,this.$M+y);if(q===h)return this.set(h,this.$y+y);if(q===j)return Y(1);if(q===s)return Y(7);var ee=(C={},C[R]=w,C[x]=g,C[f]=O,C)[q]||1,se=this.$d.getTime()+y*ee;return z.w(se,this)},k.subtract=function(y,A){return this.add(-1*y,A)},k.format=function(y){var A=this,C=this.$locale();if(!this.isValid())return C.invalidDate||b;var $=y||"YYYY-MM-DDTHH:mm:ssZ",q=z.z(this),Y=this.$H,ee=this.$m,se=this.$M,fe=C.weekdays,ce=C.months,Oe=C.meridiem,Pe=function(me,ke,pe,de){return me&&(me[ke]||me(A,$))||pe[ke].slice(0,de)},ne=function(me){return z.s(Y%12||12,me,"0")},re=Oe||function(me,ke,pe){var de=me<12?"AM":"PM";return pe?de.toLowerCase():de};return $.replace(l,function(me,ke){return ke||function(pe){switch(pe){case"YY":return String(A.$y).slice(-2);case"YYYY":return z.s(A.$y,4,"0");case"M":return se+1;case"MM":return z.s(se+1,2,"0");case"MMM":return Pe(C.monthsShort,se,ce,3);case"MMMM":return Pe(ce,se);case"D":return A.$D;case"DD":return z.s(A.$D,2,"0");case"d":return String(A.$W);case"dd":return Pe(C.weekdaysMin,A.$W,fe,2);case"ddd":return Pe(C.weekdaysShort,A.$W,fe,3);case"dddd":return fe[A.$W];case"H":return String(Y);case"HH":return z.s(Y,2,"0");case"h":return ne(1);case"hh":return ne(2);case"a":return re(Y,ee,!0);case"A":return re(Y,ee,!1);case"m":return String(ee);case"mm":return z.s(ee,2,"0");case"s":return String(A.$s);case"ss":return z.s(A.$s,2,"0");case"SSS":return z.s(A.$ms,3,"0");case"Z":return q}return null}(me)||q.replace(":","")})},k.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},k.diff=function(y,A,C){var $,q=this,Y=z.p(A),ee=B(y),se=(ee.utcOffset()-this.utcOffset())*w,fe=this-ee,ce=function(){return z.m(q,ee)};switch(Y){case h:$=ce()/12;break;case L:$=ce();break;case P:$=ce()/3;break;case s:$=(fe-se)/6048e5;break;case j:$=(fe-se)/864e5;break;case x:$=fe/g;break;case R:$=fe/w;break;case f:$=fe/O;break;default:$=fe}return C?$:z.a($)},k.daysInMonth=function(){return this.endOf(L).$D},k.$locale=function(){return Q[this.$L]},k.locale=function(y,A){if(!y)return this.$L;var C=this.clone(),$=te(y,A,!0);return $&&(C.$L=$),C},k.clone=function(){return z.w(this.$d,this)},k.toDate=function(){return new Date(this.valueOf())},k.toJSON=function(){return this.isValid()?this.toISOString():null},k.toISOString=function(){return this.$d.toISOString()},k.toString=function(){return this.$d.toUTCString()},M}(),G=J.prototype;return B.prototype=G,[["$ms",m],["$s",f],["$m",R],["$H",x],["$W",j],["$M",L],["$y",h],["$D",S]].forEach(function(M){G[M[1]]=function(k){return this.$g(k,M[0],M[1])}}),B.extend=function(M,k){return M.$i||(M(k,J,B),M.$i=!0),B},B.locale=te,B.isDayjs=ae,B.unix=function(M){return B(1e3*M)},B.en=Q[V],B.Ls=Q,B.p={},B})})(It);var Dt=It.exports,Ca={exports:{}};(function(a,d){(function(O,w){a.exports=w(It.exports)})(Nt,function(O){function w(f){return f&&typeof f=="object"&&"default"in f?f:{default:f}}var g=w(O),m={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_mi\xE9rcoles_jueves_viernes_s\xE1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xE9._jue._vie._s\xE1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xE1".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xEDa",dd:"%d d\xEDas",M:"un mes",MM:"%d meses",y:"un a\xF1o",yy:"%d a\xF1os"},ordinal:function(f){return f+"\xBA"}};return g.default.locale(m,null,!0),m})})(Ca);var Rn={exports:{}};(function(a,d){(function(O,w){a.exports=w()})(Nt,function(){return function(O,w,g){O=O||{};var m=w.prototype,f={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function R(j,s,L,P){return m.fromToBase(j,s,L,P)}g.en.relativeTime=f,m.fromToBase=function(j,s,L,P,h){for(var S,b,u,l=L.$locale().relativeTime||f,v=O.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],I=v.length,K=0;K<I;K+=1){var V=v[K];V.d&&(S=P?g(j).diff(L,V.d,!0):L.diff(j,V.d,!0));var Q=(O.rounding||Math.round)(Math.abs(S));if(u=S>0,Q<=V.r||!V.r){Q<=1&&K>0&&(V=v[K-1]);var ue=l[V.l];h&&(Q=h(""+Q)),b=typeof ue=="string"?ue.replace("%d",Q):ue(Q,s,V.l,u);break}}if(s)return b;var ae=u?l.future:l.past;return typeof ae=="function"?ae(b):ae.replace("%s",b)},m.to=function(j,s){return R(j,s,this,!0)},m.from=function(j,s){return R(j,s,this)};var x=function(j){return j.$u?g.utc():g()};m.toNow=function(j){return this.to(x(this),j)},m.fromNow=function(j){return this.from(x(this),j)}}})})(Rn);var Ta=Rn.exports,Dn={exports:{}};/*!
 * Pusher JavaScript Library v7.6.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */(function(a,d){(function(w,g){a.exports=g()})(window,function(){return function(O){var w={};function g(m){if(w[m])return w[m].exports;var f=w[m]={i:m,l:!1,exports:{}};return O[m].call(f.exports,f,f.exports,g),f.l=!0,f.exports}return g.m=O,g.c=w,g.d=function(m,f,R){g.o(m,f)||Object.defineProperty(m,f,{enumerable:!0,get:R})},g.r=function(m){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},g.t=function(m,f){if(f&1&&(m=g(m)),f&8||f&4&&typeof m=="object"&&m&&m.__esModule)return m;var R=Object.create(null);if(g.r(R),Object.defineProperty(R,"default",{enumerable:!0,value:m}),f&2&&typeof m!="string")for(var x in m)g.d(R,x,function(j){return m[j]}.bind(null,x));return R},g.n=function(m){var f=m&&m.__esModule?function(){return m.default}:function(){return m};return g.d(f,"a",f),f},g.o=function(m,f){return Object.prototype.hasOwnProperty.call(m,f)},g.p="",g(g.s=2)}([function(O,w,g){var m=this&&this.__extends||function(){var b=function(u,l){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var K in I)I.hasOwnProperty(K)&&(v[K]=I[K])},b(u,l)};return function(u,l){b(u,l);function v(){this.constructor=u}u.prototype=l===null?Object.create(l):(v.prototype=l.prototype,new v)}}();Object.defineProperty(w,"__esModule",{value:!0});var f=256,R=function(){function b(u){u===void 0&&(u="="),this._paddingCharacter=u}return b.prototype.encodedLength=function(u){return this._paddingCharacter?(u+2)/3*4|0:(u*8+5)/6|0},b.prototype.encode=function(u){for(var l="",v=0;v<u.length-2;v+=3){var I=u[v]<<16|u[v+1]<<8|u[v+2];l+=this._encodeByte(I>>>3*6&63),l+=this._encodeByte(I>>>2*6&63),l+=this._encodeByte(I>>>1*6&63),l+=this._encodeByte(I>>>0*6&63)}var K=u.length-v;if(K>0){var I=u[v]<<16|(K===2?u[v+1]<<8:0);l+=this._encodeByte(I>>>3*6&63),l+=this._encodeByte(I>>>2*6&63),K===2?l+=this._encodeByte(I>>>1*6&63):l+=this._paddingCharacter||"",l+=this._paddingCharacter||""}return l},b.prototype.maxDecodedLength=function(u){return this._paddingCharacter?u/4*3|0:(u*6+7)/8|0},b.prototype.decodedLength=function(u){return this.maxDecodedLength(u.length-this._getPaddingLength(u))},b.prototype.decode=function(u){if(u.length===0)return new Uint8Array(0);for(var l=this._getPaddingLength(u),v=u.length-l,I=new Uint8Array(this.maxDecodedLength(v)),K=0,V=0,Q=0,ue=0,ae=0,te=0,B=0;V<v-4;V+=4)ue=this._decodeChar(u.charCodeAt(V+0)),ae=this._decodeChar(u.charCodeAt(V+1)),te=this._decodeChar(u.charCodeAt(V+2)),B=this._decodeChar(u.charCodeAt(V+3)),I[K++]=ue<<2|ae>>>4,I[K++]=ae<<4|te>>>2,I[K++]=te<<6|B,Q|=ue&f,Q|=ae&f,Q|=te&f,Q|=B&f;if(V<v-1&&(ue=this._decodeChar(u.charCodeAt(V)),ae=this._decodeChar(u.charCodeAt(V+1)),I[K++]=ue<<2|ae>>>4,Q|=ue&f,Q|=ae&f),V<v-2&&(te=this._decodeChar(u.charCodeAt(V+2)),I[K++]=ae<<4|te>>>2,Q|=te&f),V<v-3&&(B=this._decodeChar(u.charCodeAt(V+3)),I[K++]=te<<6|B,Q|=B&f),Q!==0)throw new Error("Base64Coder: incorrect characters for decoding");return I},b.prototype._encodeByte=function(u){var l=u;return l+=65,l+=25-u>>>8&0-65-26+97,l+=51-u>>>8&26-97-52+48,l+=61-u>>>8&52-48-62+43,l+=62-u>>>8&62-43-63+47,String.fromCharCode(l)},b.prototype._decodeChar=function(u){var l=f;return l+=(42-u&u-44)>>>8&-f+u-43+62,l+=(46-u&u-48)>>>8&-f+u-47+63,l+=(47-u&u-58)>>>8&-f+u-48+52,l+=(64-u&u-91)>>>8&-f+u-65+0,l+=(96-u&u-123)>>>8&-f+u-97+26,l},b.prototype._getPaddingLength=function(u){var l=0;if(this._paddingCharacter){for(var v=u.length-1;v>=0&&u[v]===this._paddingCharacter;v--)l++;if(u.length<4||l>2)throw new Error("Base64Coder: incorrect padding")}return l},b}();w.Coder=R;var x=new R;function j(b){return x.encode(b)}w.encode=j;function s(b){return x.decode(b)}w.decode=s;var L=function(b){m(u,b);function u(){return b!==null&&b.apply(this,arguments)||this}return u.prototype._encodeByte=function(l){var v=l;return v+=65,v+=25-l>>>8&0-65-26+97,v+=51-l>>>8&26-97-52+48,v+=61-l>>>8&52-48-62+45,v+=62-l>>>8&62-45-63+95,String.fromCharCode(v)},u.prototype._decodeChar=function(l){var v=f;return v+=(44-l&l-46)>>>8&-f+l-45+62,v+=(94-l&l-96)>>>8&-f+l-95+63,v+=(47-l&l-58)>>>8&-f+l-48+52,v+=(64-l&l-91)>>>8&-f+l-65+0,v+=(96-l&l-123)>>>8&-f+l-97+26,v},u}(R);w.URLSafeCoder=L;var P=new L;function h(b){return P.encode(b)}w.encodeURLSafe=h;function S(b){return P.decode(b)}w.decodeURLSafe=S,w.encodedLength=function(b){return x.encodedLength(b)},w.maxDecodedLength=function(b){return x.maxDecodedLength(b)},w.decodedLength=function(b){return x.decodedLength(b)}},function(O,w,g){Object.defineProperty(w,"__esModule",{value:!0});var m="utf8: invalid string",f="utf8: invalid source encoding";function R(s){for(var L=new Uint8Array(x(s)),P=0,h=0;h<s.length;h++){var S=s.charCodeAt(h);S<128?L[P++]=S:S<2048?(L[P++]=192|S>>6,L[P++]=128|S&63):S<55296?(L[P++]=224|S>>12,L[P++]=128|S>>6&63,L[P++]=128|S&63):(h++,S=(S&1023)<<10,S|=s.charCodeAt(h)&1023,S+=65536,L[P++]=240|S>>18,L[P++]=128|S>>12&63,L[P++]=128|S>>6&63,L[P++]=128|S&63)}return L}w.encode=R;function x(s){for(var L=0,P=0;P<s.length;P++){var h=s.charCodeAt(P);if(h<128)L+=1;else if(h<2048)L+=2;else if(h<55296)L+=3;else if(h<=57343){if(P>=s.length-1)throw new Error(m);P++,L+=4}else throw new Error(m)}return L}w.encodedLength=x;function j(s){for(var L=[],P=0;P<s.length;P++){var h=s[P];if(h&128){var S=void 0;if(h<224){if(P>=s.length)throw new Error(f);var b=s[++P];if((b&192)!==128)throw new Error(f);h=(h&31)<<6|b&63,S=128}else if(h<240){if(P>=s.length-1)throw new Error(f);var b=s[++P],u=s[++P];if((b&192)!==128||(u&192)!==128)throw new Error(f);h=(h&15)<<12|(b&63)<<6|u&63,S=2048}else if(h<248){if(P>=s.length-2)throw new Error(f);var b=s[++P],u=s[++P],l=s[++P];if((b&192)!==128||(u&192)!==128||(l&192)!==128)throw new Error(f);h=(h&15)<<18|(b&63)<<12|(u&63)<<6|l&63,S=65536}else throw new Error(f);if(h<S||h>=55296&&h<=57343)throw new Error(f);if(h>=65536){if(h>1114111)throw new Error(f);h-=65536,L.push(String.fromCharCode(55296|h>>10)),h=56320|h&1023}}L.push(String.fromCharCode(h))}return L.join("")}w.decode=j},function(O,w,g){O.exports=g(3).default},function(O,w,g){g.r(w);var m=function(){function t(e,n){this.lastId=0,this.prefix=e,this.name=n}return t.prototype.create=function(e){this.lastId++;var n=this.lastId,r=this.prefix+n,i=this.name+"["+n+"]",o=!1,c=function(){o||(e.apply(null,arguments),o=!0)};return this[n]=c,{number:n,id:r,name:i,callback:c}},t.prototype.remove=function(e){delete this[e.number]},t}(),f=new m("_pusher_script_","Pusher.ScriptReceivers"),R={VERSION:"7.6.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,cluster:"mt1",userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},x=R,j=function(){function t(e){this.options=e,this.receivers=e.receivers||f,this.loading={}}return t.prototype.load=function(e,n,r){var i=this;if(i.loading[e]&&i.loading[e].length>0)i.loading[e].push(r);else{i.loading[e]=[r];var o=U.createScriptRequest(i.getPath(e,n)),c=i.receivers.create(function(p){if(i.receivers.remove(c),i.loading[e]){var N=i.loading[e];delete i.loading[e];for(var T=function(he){he||o.cleanup()},F=0;F<N.length;F++)N[F](p,T)}});o.send(c)}},t.prototype.getRoot=function(e){var n,r=U.getDocument().location.protocol;return e&&e.useTLS||r==="https:"?n=this.options.cdn_https:n=this.options.cdn_http,n.replace(/\/*$/,"")+"/"+this.options.version},t.prototype.getPath=function(e,n){return this.getRoot(n)+"/"+e+this.options.suffix+".js"},t}(),s=j,L=new m("_pusher_dependencies","Pusher.DependenciesReceivers"),P=new s({cdn_http:x.cdn_http,cdn_https:x.cdn_https,version:x.VERSION,suffix:x.dependency_suffix,receivers:L}),h={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}},S=function(t){var e="See:",n=h.urls[t];if(!n)return"";var r;return n.fullUrl?r=n.fullUrl:n.path&&(r=h.baseUrl+n.path),r?e+" "+r:""},b={buildLogSuffix:S},u;(function(t){t.UserAuthentication="user-authentication",t.ChannelAuthorization="channel-authorization"})(u||(u={}));var l=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=function(t){l(e,t);function e(n){var r=this.constructor,i=t.call(this,n)||this;return Object.setPrototypeOf(i,r.prototype),i}return e}(Error),I=function(t){l(e,t);function e(n){var r=this.constructor,i=t.call(this,n)||this;return Object.setPrototypeOf(i,r.prototype),i}return e}(Error),K=function(t){l(e,t);function e(n){var r=this.constructor,i=t.call(this,n)||this;return Object.setPrototypeOf(i,r.prototype),i}return e}(Error),V=function(t){l(e,t);function e(n){var r=this.constructor,i=t.call(this,n)||this;return Object.setPrototypeOf(i,r.prototype),i}return e}(Error),Q=function(t){l(e,t);function e(n){var r=this.constructor,i=t.call(this,n)||this;return Object.setPrototypeOf(i,r.prototype),i}return e}(Error),ue=function(t){l(e,t);function e(n){var r=this.constructor,i=t.call(this,n)||this;return Object.setPrototypeOf(i,r.prototype),i}return e}(Error),ae=function(t){l(e,t);function e(n){var r=this.constructor,i=t.call(this,n)||this;return Object.setPrototypeOf(i,r.prototype),i}return e}(Error),te=function(t){l(e,t);function e(n){var r=this.constructor,i=t.call(this,n)||this;return Object.setPrototypeOf(i,r.prototype),i}return e}(Error),B=function(t){l(e,t);function e(n,r){var i=this.constructor,o=t.call(this,r)||this;return o.status=n,Object.setPrototypeOf(o,i.prototype),o}return e}(Error),z=function(t,e,n,r,i){var o=U.createXHR();o.open("POST",n.endpoint,!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var c in n.headers)o.setRequestHeader(c,n.headers[c]);if(n.headersProvider!=null){var p=n.headersProvider();for(var c in p)o.setRequestHeader(c,p[c])}return o.onreadystatechange=function(){if(o.readyState===4)if(o.status===200){var N=void 0,T=!1;try{N=JSON.parse(o.responseText),T=!0}catch{i(new B(200,"JSON returned from "+r.toString()+" endpoint was invalid, yet status code was 200. Data was: "+o.responseText),null)}T&&i(null,N)}else{var F="";switch(r){case u.UserAuthentication:F=b.buildLogSuffix("authenticationEndpoint");break;case u.ChannelAuthorization:F="Clients must be authorized to join private or presence channels. "+b.buildLogSuffix("authorizationEndpoint");break}i(new B(o.status,"Unable to retrieve auth string from "+r.toString()+" endpoint - "+("received status: "+o.status+" from "+n.endpoint+". "+F)),null)}},o.send(e),o},J=z;function G(t){return $(A(t))}var M=String.fromCharCode,k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y=function(t){var e=t.charCodeAt(0);return e<128?t:e<2048?M(192|e>>>6)+M(128|e&63):M(224|e>>>12&15)+M(128|e>>>6&63)+M(128|e&63)},A=function(t){return t.replace(/[^\x00-\x7F]/g,y)},C=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0),r=[k.charAt(n>>>18),k.charAt(n>>>12&63),e>=2?"=":k.charAt(n>>>6&63),e>=1?"=":k.charAt(n&63)];return r.join("")},$=window.btoa||function(t){return t.replace(/[\s\S]{1,3}/g,C)},q=function(){function t(e,n,r,i){var o=this;this.clear=n,this.timer=e(function(){o.timer&&(o.timer=i(o.timer))},r)}return t.prototype.isRunning=function(){return this.timer!==null},t.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},t}(),Y=q,ee=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();function se(t){window.clearTimeout(t)}function fe(t){window.clearInterval(t)}var ce=function(t){ee(e,t);function e(n,r){return t.call(this,setTimeout,se,n,function(i){return r(),null})||this}return e}(Y),Oe=function(t){ee(e,t);function e(n,r){return t.call(this,setInterval,fe,n,function(i){return r(),i})||this}return e}(Y),Pe={now:function(){return Date.now?Date.now():new Date().valueOf()},defer:function(t){return new ce(0,t)},method:function(t){var e=Array.prototype.slice.call(arguments,1);return function(n){return n[t].apply(n,e.concat(arguments))}}},ne=Pe;function re(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++){var i=e[r];for(var o in i)i[o]&&i[o].constructor&&i[o].constructor===Object?t[o]=re(t[o]||{},i[o]):t[o]=i[o]}return t}function me(){for(var t=["Pusher"],e=0;e<arguments.length;e++)typeof arguments[e]=="string"?t.push(arguments[e]):t.push(Re(arguments[e]));return t.join(" : ")}function ke(t,e){var n=Array.prototype.indexOf;if(t===null)return-1;if(n&&t.indexOf===n)return t.indexOf(e);for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}function pe(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(t[n],n,t)}function de(t){var e=[];return pe(t,function(n,r){e.push(r)}),e}function Le(t){var e=[];return pe(t,function(n){e.push(n)}),e}function Me(t,e,n){for(var r=0;r<t.length;r++)e.call(n||window,t[r],r,t)}function at(t,e){for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r,t,n));return n}function mt(t,e){var n={};return pe(t,function(r,i){n[i]=e(r)}),n}function Xe(t,e){e=e||function(i){return!!i};for(var n=[],r=0;r<t.length;r++)e(t[r],r,t,n)&&n.push(t[r]);return n}function ze(t,e){var n={};return pe(t,function(r,i){(e&&e(r,i,t,n)||Boolean(r))&&(n[i]=r)}),n}function Ae(t){var e=[];return pe(t,function(n,r){e.push([r,n])}),e}function st(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1}function Ge(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0}function _(t){return mt(t,function(e){return typeof e=="object"&&(e=Re(e)),encodeURIComponent(G(e.toString()))})}function W(t){var e=ze(t,function(r){return r!==void 0}),n=at(Ae(_(e)),ne.method("join","=")).join("&");return n}function ye(t){var e=[],n=[];return function r(i,o){var c,p,N;switch(typeof i){case"object":if(!i)return null;for(c=0;c<e.length;c+=1)if(e[c]===i)return{$ref:n[c]};if(e.push(i),n.push(o),Object.prototype.toString.apply(i)==="[object Array]")for(N=[],c=0;c<i.length;c+=1)N[c]=r(i[c],o+"["+c+"]");else{N={};for(p in i)Object.prototype.hasOwnProperty.call(i,p)&&(N[p]=r(i[p],o+"["+JSON.stringify(p)+"]"))}return N;case"number":case"string":case"boolean":return i}}(t,"$")}function Re(t){try{return JSON.stringify(t)}catch{return JSON.stringify(ye(t))}}var Ht=function(){function t(){this.globalLog=function(e){window.console&&window.console.log&&window.console.log(e)}}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.log(this.globalLog,e)},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.log(this.globalLogWarn,e)},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.log(this.globalLogError,e)},t.prototype.globalLogWarn=function(e){window.console&&window.console.warn?window.console.warn(e):this.globalLog(e)},t.prototype.globalLogError=function(e){window.console&&window.console.error?window.console.error(e):this.globalLogWarn(e)},t.prototype.log=function(e){var n=me.apply(this,arguments);if(Pt.log)Pt.log(n);else if(Pt.logToConsole){var r=e.bind(this);r(n)}},t}(),ie=new Ht,jn=function(t,e,n,r,i){(n.headers!==void 0||n.headersProvider!=null)&&ie.warn("To send headers with the "+r.toString()+" request, you must use AJAX, rather than JSONP.");var o=t.nextAuthCallbackID.toString();t.nextAuthCallbackID++;var c=t.getDocument(),p=c.createElement("script");t.auth_callbacks[o]=function(F){i(null,F)};var N="Pusher.auth_callbacks['"+o+"']";p.src=n.endpoint+"?callback="+encodeURIComponent(N)+"&"+e;var T=c.getElementsByTagName("head")[0]||c.documentElement;T.insertBefore(p,T.firstChild)},qn=jn,Nn=function(){function t(e){this.src=e}return t.prototype.send=function(e){var n=this,r="Error loading "+n.src;n.script=document.createElement("script"),n.script.id=e.id,n.script.src=n.src,n.script.type="text/javascript",n.script.charset="UTF-8",n.script.addEventListener?(n.script.onerror=function(){e.callback(r)},n.script.onload=function(){e.callback(null)}):n.script.onreadystatechange=function(){(n.script.readyState==="loaded"||n.script.readyState==="complete")&&e.callback(null)},n.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(n.errorScript=document.createElement("script"),n.errorScript.id=e.id+"_error",n.errorScript.text=e.name+"('"+r+"');",n.script.async=n.errorScript.async=!1):n.script.async=!0;var i=document.getElementsByTagName("head")[0];i.insertBefore(n.script,i.firstChild),n.errorScript&&i.insertBefore(n.errorScript,n.script.nextSibling)},t.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},t}(),In=Nn,Hn=function(){function t(e,n){this.url=e,this.data=n}return t.prototype.send=function(e){if(!this.request){var n=W(this.data),r=this.url+"/"+e.number+"?"+n;this.request=U.createScriptRequest(r),this.request.send(e)}},t.prototype.cleanup=function(){this.request&&this.request.cleanup()},t}(),Bn=Hn,Un=function(t,e){return function(n,r){var i="http"+(e?"s":"")+"://",o=i+(t.host||t.options.host)+t.options.path,c=U.createJSONPRequest(o,n),p=U.ScriptReceivers.create(function(N,T){f.remove(p),c.cleanup(),T&&T.host&&(t.host=T.host),r&&r(N,T)});c.send(p)}},zn={name:"jsonp",getAgent:Un},Fn=zn;function gt(t,e,n){var r=t+(e.useTLS?"s":""),i=e.useTLS?e.hostTLS:e.hostNonTLS;return r+"://"+i+n}function yt(t,e){var n="/app/"+t,r="?protocol="+x.PROTOCOL+"&client=js&version="+x.VERSION+(e?"&"+e:"");return n+r}var Vn={getInitial:function(t,e){var n=(e.httpPath||"")+yt(t,"flash=false");return gt("ws",e,n)}},Wn={getInitial:function(t,e){var n=(e.httpPath||"/pusher")+yt(t);return gt("http",e,n)}},Qn={getInitial:function(t,e){return gt("http",e,e.httpPath||"/pusher")},getPath:function(t,e){return yt(t)}},Yn=function(){function t(){this._callbacks={}}return t.prototype.get=function(e){return this._callbacks[_t(e)]},t.prototype.add=function(e,n,r){var i=_t(e);this._callbacks[i]=this._callbacks[i]||[],this._callbacks[i].push({fn:n,context:r})},t.prototype.remove=function(e,n,r){if(!e&&!n&&!r){this._callbacks={};return}var i=e?[_t(e)]:de(this._callbacks);n||r?this.removeCallback(i,n,r):this.removeAllCallbacks(i)},t.prototype.removeCallback=function(e,n,r){Me(e,function(i){this._callbacks[i]=Xe(this._callbacks[i]||[],function(o){return n&&n!==o.fn||r&&r!==o.context}),this._callbacks[i].length===0&&delete this._callbacks[i]},this)},t.prototype.removeAllCallbacks=function(e){Me(e,function(n){delete this._callbacks[n]},this)},t}(),Jn=Yn;function _t(t){return"_"+t}var Xn=function(){function t(e){this.callbacks=new Jn,this.global_callbacks=[],this.failThrough=e}return t.prototype.bind=function(e,n,r){return this.callbacks.add(e,n,r),this},t.prototype.bind_global=function(e){return this.global_callbacks.push(e),this},t.prototype.unbind=function(e,n,r){return this.callbacks.remove(e,n,r),this},t.prototype.unbind_global=function(e){return e?(this.global_callbacks=Xe(this.global_callbacks||[],function(n){return n!==e}),this):(this.global_callbacks=[],this)},t.prototype.unbind_all=function(){return this.unbind(),this.unbind_global(),this},t.prototype.emit=function(e,n,r){for(var i=0;i<this.global_callbacks.length;i++)this.global_callbacks[i](e,n);var o=this.callbacks.get(e),c=[];if(r?c.push(n,r):n&&c.push(n),o&&o.length>0)for(var i=0;i<o.length;i++)o[i].fn.apply(o[i].context||window,c);else this.failThrough&&this.failThrough(e,n);return this},t}(),De=Xn,Gn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kn=function(t){Gn(e,t);function e(n,r,i,o,c){var p=t.call(this)||this;return p.initialize=U.transportConnectionInitializer,p.hooks=n,p.name=r,p.priority=i,p.key=o,p.options=c,p.state="new",p.timeline=c.timeline,p.activityTimeout=c.activityTimeout,p.id=p.timeline.generateUniqueID(),p}return e.prototype.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},e.prototype.supportsPing=function(){return Boolean(this.hooks.supportsPing)},e.prototype.connect=function(){var n=this;if(this.socket||this.state!=="initialized")return!1;var r=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(r,this.options)}catch(i){return ne.defer(function(){n.onError(i),n.changeState("closed")}),!1}return this.bindListeners(),ie.debug("Connecting",{transport:this.name,url:r}),this.changeState("connecting"),!0},e.prototype.close=function(){return this.socket?(this.socket.close(),!0):!1},e.prototype.send=function(n){var r=this;return this.state==="open"?(ne.defer(function(){r.socket&&r.socket.send(n)}),!0):!1},e.prototype.ping=function(){this.state==="open"&&this.supportsPing()&&this.socket.ping()},e.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},e.prototype.onError=function(n){this.emit("error",{type:"WebSocketError",error:n}),this.timeline.error(this.buildTimelineMessage({error:n.toString()}))},e.prototype.onClose=function(n){n?this.changeState("closed",{code:n.code,reason:n.reason,wasClean:n.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},e.prototype.onMessage=function(n){this.emit("message",n)},e.prototype.onActivity=function(){this.emit("activity")},e.prototype.bindListeners=function(){var n=this;this.socket.onopen=function(){n.onOpen()},this.socket.onerror=function(r){n.onError(r)},this.socket.onclose=function(r){n.onClose(r)},this.socket.onmessage=function(r){n.onMessage(r)},this.supportsPing()&&(this.socket.onactivity=function(){n.onActivity()})},e.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},e.prototype.changeState=function(n,r){this.state=n,this.timeline.info(this.buildTimelineMessage({state:n,params:r})),this.emit(n,r)},e.prototype.buildTimelineMessage=function(n){return re({cid:this.id},n)},e}(De),Zn=Kn,er=function(){function t(e){this.hooks=e}return t.prototype.isSupported=function(e){return this.hooks.isSupported(e)},t.prototype.createConnection=function(e,n,r,i){return new Zn(this.hooks,e,n,r,i)},t}(),Fe=er,tr=new Fe({urls:Vn,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(U.getWebSocketAPI())},isSupported:function(){return Boolean(U.getWebSocketAPI())},getSocket:function(t){return U.createWebSocket(t)}}),Bt={urls:Wn,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},Ut=re({getSocket:function(t){return U.HTTPFactory.createStreamingSocket(t)}},Bt),zt=re({getSocket:function(t){return U.HTTPFactory.createPollingSocket(t)}},Bt),Ft={isSupported:function(){return U.isXHRSupported()}},nr=new Fe(re({},Ut,Ft)),rr=new Fe(re({},zt,Ft)),ir={ws:tr,xhr_streaming:nr,xhr_polling:rr},ct=ir,or=new Fe({file:"sockjs",urls:Qn,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(t,e){return new window.SockJS(t,null,{js_path:P.getPath("sockjs",{useTLS:e.useTLS}),ignore_null_origin:e.ignoreNullOrigin})},beforeOpen:function(t,e){t.send(JSON.stringify({path:e}))}}),Vt={isSupported:function(t){var e=U.isXDRSupported(t.useTLS);return e}},ar=new Fe(re({},Ut,Vt)),sr=new Fe(re({},zt,Vt));ct.xdr_streaming=ar,ct.xdr_polling=sr,ct.sockjs=or;var cr=ct,ur=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),lr=function(t){ur(e,t);function e(){var n=t.call(this)||this,r=n;return window.addEventListener!==void 0&&(window.addEventListener("online",function(){r.emit("online")},!1),window.addEventListener("offline",function(){r.emit("offline")},!1)),n}return e.prototype.isOnline=function(){return window.navigator.onLine===void 0?!0:window.navigator.onLine},e}(De),fr=new lr,dr=function(){function t(e,n,r){this.manager=e,this.transport=n,this.minPingDelay=r.minPingDelay,this.maxPingDelay=r.maxPingDelay,this.pingDelay=void 0}return t.prototype.createConnection=function(e,n,r,i){var o=this;i=re({},i,{activityTimeout:this.pingDelay});var c=this.transport.createConnection(e,n,r,i),p=null,N=function(){c.unbind("open",N),c.bind("closed",T),p=ne.now()},T=function(F){if(c.unbind("closed",T),F.code===1002||F.code===1003)o.manager.reportDeath();else if(!F.wasClean&&p){var he=ne.now()-p;he<2*o.maxPingDelay&&(o.manager.reportDeath(),o.pingDelay=Math.max(he/2,o.minPingDelay))}};return c.bind("open",N),c},t.prototype.isSupported=function(e){return this.manager.isAlive()&&this.transport.isSupported(e)},t}(),hr=dr,Wt={decodeMessage:function(t){try{var e=JSON.parse(t.data),n=e.data;if(typeof n=="string")try{n=JSON.parse(e.data)}catch{}var r={event:e.event,channel:e.channel,data:n};return e.user_id&&(r.user_id=e.user_id),r}catch(i){throw{type:"MessageParseError",error:i,data:t.data}}},encodeMessage:function(t){return JSON.stringify(t)},processHandshake:function(t){var e=Wt.decodeMessage(t);if(e.event==="pusher:connection_established"){if(!e.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:e.data.socket_id,activityTimeout:e.data.activity_timeout*1e3}}else{if(e.event==="pusher:error")return{action:this.getCloseAction(e.data),error:this.getCloseError(e.data)};throw"Invalid handshake"}},getCloseAction:function(t){return t.code<4e3?t.code>=1002&&t.code<=1004?"backoff":null:t.code===4e3?"tls_only":t.code<4100?"refused":t.code<4200?"backoff":t.code<4300?"retry":"refused"},getCloseError:function(t){return t.code!==1e3&&t.code!==1001?{type:"PusherError",data:{code:t.code,message:t.reason||t.message}}:null}},qe=Wt,pr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),vr=function(t){pr(e,t);function e(n,r){var i=t.call(this)||this;return i.id=n,i.transport=r,i.activityTimeout=r.activityTimeout,i.bindListeners(),i}return e.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},e.prototype.send=function(n){return this.transport.send(n)},e.prototype.send_event=function(n,r,i){var o={event:n,data:r};return i&&(o.channel=i),ie.debug("Event sent",o),this.send(qe.encodeMessage(o))},e.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},e.prototype.close=function(){this.transport.close()},e.prototype.bindListeners=function(){var n=this,r={message:function(o){var c;try{c=qe.decodeMessage(o)}catch(p){n.emit("error",{type:"MessageParseError",error:p,data:o.data})}if(c!==void 0){switch(ie.debug("Event recd",c),c.event){case"pusher:error":n.emit("error",{type:"PusherError",data:c.data});break;case"pusher:ping":n.emit("ping");break;case"pusher:pong":n.emit("pong");break}n.emit("message",c)}},activity:function(){n.emit("activity")},error:function(o){n.emit("error",o)},closed:function(o){i(),o&&o.code&&n.handleCloseEvent(o),n.transport=null,n.emit("closed")}},i=function(){pe(r,function(o,c){n.transport.unbind(c,o)})};pe(r,function(o,c){n.transport.bind(c,o)})},e.prototype.handleCloseEvent=function(n){var r=qe.getCloseAction(n),i=qe.getCloseError(n);i&&this.emit("error",i),r&&this.emit(r,{action:r,error:i})},e}(De),mr=vr,gr=function(){function t(e,n){this.transport=e,this.callback=n,this.bindListeners()}return t.prototype.close=function(){this.unbindListeners(),this.transport.close()},t.prototype.bindListeners=function(){var e=this;this.onMessage=function(n){e.unbindListeners();var r;try{r=qe.processHandshake(n)}catch(i){e.finish("error",{error:i}),e.transport.close();return}r.action==="connected"?e.finish("connected",{connection:new mr(r.id,e.transport),activityTimeout:r.activityTimeout}):(e.finish(r.action,{error:r.error}),e.transport.close())},this.onClosed=function(n){e.unbindListeners();var r=qe.getCloseAction(n)||"backoff",i=qe.getCloseError(n);e.finish(r,{error:i})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},t.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},t.prototype.finish=function(e,n){this.callback(re({transport:this.transport,action:e},n))},t}(),yr=gr,_r=function(){function t(e,n){this.timeline=e,this.options=n||{}}return t.prototype.send=function(e,n){this.timeline.isEmpty()||this.timeline.send(U.TimelineTransport.getAgent(this,e),n)},t}(),br=_r,wr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sr=function(t){wr(e,t);function e(n,r){var i=t.call(this,function(o,c){ie.debug("No callbacks on "+n+" for "+o)})||this;return i.name=n,i.pusher=r,i.subscribed=!1,i.subscriptionPending=!1,i.subscriptionCancelled=!1,i}return e.prototype.authorize=function(n,r){return r(null,{auth:""})},e.prototype.trigger=function(n,r){if(n.indexOf("client-")!==0)throw new v("Event '"+n+"' does not start with 'client-'");if(!this.subscribed){var i=b.buildLogSuffix("triggeringClientEvents");ie.warn("Client event triggered before channel 'subscription_succeeded' event . "+i)}return this.pusher.send_event(n,r,this.name)},e.prototype.disconnect=function(){this.subscribed=!1,this.subscriptionPending=!1},e.prototype.handleEvent=function(n){var r=n.event,i=n.data;if(r==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(n);else if(r==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(n);else if(r.indexOf("pusher_internal:")!==0){var o={};this.emit(r,i,o)}},e.prototype.handleSubscriptionSucceededEvent=function(n){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",n.data)},e.prototype.handleSubscriptionCountEvent=function(n){n.data.subscription_count&&(this.subscriptionCount=n.data.subscription_count),this.emit("pusher:subscription_count",n.data)},e.prototype.subscribe=function(){var n=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,function(r,i){r?(n.subscriptionPending=!1,ie.error(r.toString()),n.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:r.message},r instanceof B?{status:r.status}:{}))):n.pusher.send_event("pusher:subscribe",{auth:i.auth,channel_data:i.channel_data,channel:n.name})}))},e.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},e.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},e.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},e}(De),bt=Sr,kr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cr=function(t){kr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.authorize=function(n,r){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:n},r)},e}(bt),wt=Cr,Tr=function(){function t(){this.reset()}return t.prototype.get=function(e){return Object.prototype.hasOwnProperty.call(this.members,e)?{id:e,info:this.members[e]}:null},t.prototype.each=function(e){var n=this;pe(this.members,function(r,i){e(n.get(i))})},t.prototype.setMyID=function(e){this.myID=e},t.prototype.onSubscription=function(e){this.members=e.presence.hash,this.count=e.presence.count,this.me=this.get(this.myID)},t.prototype.addMember=function(e){return this.get(e.user_id)===null&&this.count++,this.members[e.user_id]=e.user_info,this.get(e.user_id)},t.prototype.removeMember=function(e){var n=this.get(e.user_id);return n&&(delete this.members[e.user_id],this.count--),n},t.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},t}(),xr=Tr,Pr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Or=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function p(F){try{T(r.next(F))}catch(he){c(he)}}function N(F){try{T(r.throw(F))}catch(he){c(he)}}function T(F){F.done?o(F.value):i(F.value).then(p,N)}T((r=r.apply(t,e||[])).next())})},Lr=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,c;return c={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function p(T){return function(F){return N([T,F])}}function N(T){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=T[0]&2?i.return:T[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,T[1])).done)return o;switch(i=0,o&&(T=[T[0]&2,o.value]),T[0]){case 0:case 1:o=T;break;case 4:return n.label++,{value:T[1],done:!1};case 5:n.label++,i=T[1],T=[0];continue;case 7:T=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(T[0]===6||T[0]===2)){n=0;continue}if(T[0]===3&&(!o||T[1]>o[0]&&T[1]<o[3])){n.label=T[1];break}if(T[0]===6&&n.label<o[1]){n.label=o[1],o=T;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(T);break}o[2]&&n.ops.pop(),n.trys.pop();continue}T=e.call(t,n)}catch(F){T=[6,F],i=0}finally{r=o=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},Ar=function(t){Pr(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.members=new xr,i}return e.prototype.authorize=function(n,r){var i=this;t.prototype.authorize.call(this,n,function(o,c){return Or(i,void 0,void 0,function(){var p,N;return Lr(this,function(T){switch(T.label){case 0:return o?[3,3]:(c=c,c.channel_data==null?[3,1]:(p=JSON.parse(c.channel_data),this.members.setMyID(p.user_id),[3,3]));case 1:return[4,this.pusher.user.signinDonePromise];case 2:if(T.sent(),this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else return N=b.buildLogSuffix("authorizationEndpoint"),ie.error("Invalid auth response for channel '"+this.name+"', "+("expected 'channel_data' field. "+N+", ")+"or the user should be signed in."),r("Invalid auth response"),[2];T.label=3;case 3:return r(o,c),[2]}})})})},e.prototype.handleEvent=function(n){var r=n.event;if(r.indexOf("pusher_internal:")===0)this.handleInternalEvent(n);else{var i=n.data,o={};n.user_id&&(o.user_id=n.user_id),this.emit(r,i,o)}},e.prototype.handleInternalEvent=function(n){var r=n.event,i=n.data;switch(r){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(n);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(n);break;case"pusher_internal:member_added":var o=this.members.addMember(i);this.emit("pusher:member_added",o);break;case"pusher_internal:member_removed":var c=this.members.removeMember(i);c&&this.emit("pusher:member_removed",c);break}},e.prototype.handleSubscriptionSucceededEvent=function(n){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(n.data),this.emit("pusher:subscription_succeeded",this.members))},e.prototype.disconnect=function(){this.members.reset(),t.prototype.disconnect.call(this)},e}(wt),Er=Ar,Mr=g(1),St=g(0),Rr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dr=function(t){Rr(e,t);function e(n,r,i){var o=t.call(this,n,r)||this;return o.key=null,o.nacl=i,o}return e.prototype.authorize=function(n,r){var i=this;t.prototype.authorize.call(this,n,function(o,c){if(o){r(o,c);return}var p=c.shared_secret;if(!p){r(new Error("No shared_secret key in auth payload for encrypted channel: "+i.name),null);return}i.key=Object(St.decode)(p),delete c.shared_secret,r(null,c)})},e.prototype.trigger=function(n,r){throw new ue("Client events are not currently supported for encrypted channels")},e.prototype.handleEvent=function(n){var r=n.event,i=n.data;if(r.indexOf("pusher_internal:")===0||r.indexOf("pusher:")===0){t.prototype.handleEvent.call(this,n);return}this.handleEncryptedEvent(r,i)},e.prototype.handleEncryptedEvent=function(n,r){var i=this;if(!this.key){ie.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!r.ciphertext||!r.nonce){ie.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+r);return}var o=Object(St.decode)(r.ciphertext);if(o.length<this.nacl.secretbox.overheadLength){ie.error("Expected encrypted event ciphertext length to be "+this.nacl.secretbox.overheadLength+", got: "+o.length);return}var c=Object(St.decode)(r.nonce);if(c.length<this.nacl.secretbox.nonceLength){ie.error("Expected encrypted event nonce length to be "+this.nacl.secretbox.nonceLength+", got: "+c.length);return}var p=this.nacl.secretbox.open(o,c,this.key);if(p===null){ie.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,function(N,T){if(N){ie.error("Failed to make a request to the authEndpoint: "+T+". Unable to fetch new key, so dropping encrypted event");return}if(p=i.nacl.secretbox.open(o,c,i.key),p===null){ie.error("Failed to decrypt event with new key. Dropping encrypted event");return}i.emit(n,i.getDataToEmit(p))});return}this.emit(n,this.getDataToEmit(p))},e.prototype.getDataToEmit=function(n){var r=Object(Mr.decode)(n);try{return JSON.parse(r)}catch{return r}},e}(wt),$r=Dr,jr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),qr=function(t){jr(e,t);function e(n,r){var i=t.call(this)||this;i.state="initialized",i.connection=null,i.key=n,i.options=r,i.timeline=i.options.timeline,i.usingTLS=i.options.useTLS,i.errorCallbacks=i.buildErrorCallbacks(),i.connectionCallbacks=i.buildConnectionCallbacks(i.errorCallbacks),i.handshakeCallbacks=i.buildHandshakeCallbacks(i.errorCallbacks);var o=U.getNetwork();return o.bind("online",function(){i.timeline.info({netinfo:"online"}),(i.state==="connecting"||i.state==="unavailable")&&i.retryIn(0)}),o.bind("offline",function(){i.timeline.info({netinfo:"offline"}),i.connection&&i.sendActivityCheck()}),i.updateStrategy(),i}return e.prototype.connect=function(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}},e.prototype.send=function(n){return this.connection?this.connection.send(n):!1},e.prototype.send_event=function(n,r,i){return this.connection?this.connection.send_event(n,r,i):!1},e.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},e.prototype.isUsingTLS=function(){return this.usingTLS},e.prototype.startConnecting=function(){var n=this,r=function(i,o){i?n.runner=n.strategy.connect(0,r):o.action==="error"?(n.emit("error",{type:"HandshakeError",error:o.error}),n.timeline.error({handshakeError:o.error})):(n.abortConnecting(),n.handshakeCallbacks[o.action](o))};this.runner=this.strategy.connect(0,r)},e.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},e.prototype.disconnectInternally=function(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var n=this.abandonConnection();n.close()}},e.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})},e.prototype.retryIn=function(n){var r=this;this.timeline.info({action:"retry",delay:n}),n>0&&this.emit("connecting_in",Math.round(n/1e3)),this.retryTimer=new ce(n||0,function(){r.disconnectInternally(),r.connect()})},e.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},e.prototype.setUnavailableTimer=function(){var n=this;this.unavailableTimer=new ce(this.options.unavailableTimeout,function(){n.updateState("unavailable")})},e.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},e.prototype.sendActivityCheck=function(){var n=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new ce(this.options.pongTimeout,function(){n.timeline.error({pong_timed_out:n.options.pongTimeout}),n.retryIn(0)})},e.prototype.resetActivityCheck=function(){var n=this;this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new ce(this.activityTimeout,function(){n.sendActivityCheck()}))},e.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},e.prototype.buildConnectionCallbacks=function(n){var r=this;return re({},n,{message:function(i){r.resetActivityCheck(),r.emit("message",i)},ping:function(){r.send_event("pusher:pong",{})},activity:function(){r.resetActivityCheck()},error:function(i){r.emit("error",i)},closed:function(){r.abandonConnection(),r.shouldRetry()&&r.retryIn(1e3)}})},e.prototype.buildHandshakeCallbacks=function(n){var r=this;return re({},n,{connected:function(i){r.activityTimeout=Math.min(r.options.activityTimeout,i.activityTimeout,i.connection.activityTimeout||1/0),r.clearUnavailableTimer(),r.setConnection(i.connection),r.socket_id=r.connection.id,r.updateState("connected",{socket_id:r.socket_id})}})},e.prototype.buildErrorCallbacks=function(){var n=this,r=function(i){return function(o){o.error&&n.emit("error",{type:"WebSocketError",error:o.error}),i(o)}};return{tls_only:r(function(){n.usingTLS=!0,n.updateStrategy(),n.retryIn(0)}),refused:r(function(){n.disconnect()}),backoff:r(function(){n.retryIn(1e3)}),retry:r(function(){n.retryIn(0)})}},e.prototype.setConnection=function(n){this.connection=n;for(var r in this.connectionCallbacks)this.connection.bind(r,this.connectionCallbacks[r]);this.resetActivityCheck()},e.prototype.abandonConnection=function(){if(!!this.connection){this.stopActivityCheck();for(var n in this.connectionCallbacks)this.connection.unbind(n,this.connectionCallbacks[n]);var r=this.connection;return this.connection=null,r}},e.prototype.updateState=function(n,r){var i=this.state;if(this.state=n,i!==n){var o=n;o==="connected"&&(o+=" with new socket ID "+r.socket_id),ie.debug("State changed",i+" -> "+o),this.timeline.info({state:n,params:r}),this.emit("state_change",{previous:i,current:n}),this.emit(n,r)}},e.prototype.shouldRetry=function(){return this.state==="connecting"||this.state==="connected"},e}(De),Nr=qr,Ir=function(){function t(){this.channels={}}return t.prototype.add=function(e,n){return this.channels[e]||(this.channels[e]=Br(e,n)),this.channels[e]},t.prototype.all=function(){return Le(this.channels)},t.prototype.find=function(e){return this.channels[e]},t.prototype.remove=function(e){var n=this.channels[e];return delete this.channels[e],n},t.prototype.disconnect=function(){pe(this.channels,function(e){e.disconnect()})},t}(),Hr=Ir;function Br(t,e){if(t.indexOf("private-encrypted-")===0){if(e.config.nacl)return $e.createEncryptedChannel(t,e,e.config.nacl);var n="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",r=b.buildLogSuffix("encryptedChannelSupport");throw new ue(n+". "+r)}else{if(t.indexOf("private-")===0)return $e.createPrivateChannel(t,e);if(t.indexOf("presence-")===0)return $e.createPresenceChannel(t,e);if(t.indexOf("#")===0)throw new I('Cannot create a channel with name "'+t+'".');return $e.createChannel(t,e)}}var Ur={createChannels:function(){return new Hr},createConnectionManager:function(t,e){return new Nr(t,e)},createChannel:function(t,e){return new bt(t,e)},createPrivateChannel:function(t,e){return new wt(t,e)},createPresenceChannel:function(t,e){return new Er(t,e)},createEncryptedChannel:function(t,e,n){return new $r(t,e,n)},createTimelineSender:function(t,e){return new br(t,e)},createHandshake:function(t,e){return new yr(t,e)},createAssistantToTheTransportManager:function(t,e,n){return new hr(t,e,n)}},$e=Ur,zr=function(){function t(e){this.options=e||{},this.livesLeft=this.options.lives||1/0}return t.prototype.getAssistant=function(e){return $e.createAssistantToTheTransportManager(this,e,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},t.prototype.isAlive=function(){return this.livesLeft>0},t.prototype.reportDeath=function(){this.livesLeft-=1},t}(),Qt=zr,Fr=function(){function t(e,n){this.strategies=e,this.loop=Boolean(n.loop),this.failFast=Boolean(n.failFast),this.timeout=n.timeout,this.timeoutLimit=n.timeoutLimit}return t.prototype.isSupported=function(){return st(this.strategies,ne.method("isSupported"))},t.prototype.connect=function(e,n){var r=this,i=this.strategies,o=0,c=this.timeout,p=null,N=function(T,F){F?n(null,F):(o=o+1,r.loop&&(o=o%i.length),o<i.length?(c&&(c=c*2,r.timeoutLimit&&(c=Math.min(c,r.timeoutLimit))),p=r.tryStrategy(i[o],e,{timeout:c,failFast:r.failFast},N)):n(!0))};return p=this.tryStrategy(i[o],e,{timeout:c,failFast:this.failFast},N),{abort:function(){p.abort()},forceMinPriority:function(T){e=T,p&&p.forceMinPriority(T)}}},t.prototype.tryStrategy=function(e,n,r,i){var o=null,c=null;return r.timeout>0&&(o=new ce(r.timeout,function(){c.abort(),i(!0)})),c=e.connect(n,function(p,N){p&&o&&o.isRunning()&&!r.failFast||(o&&o.ensureAborted(),i(p,N))}),{abort:function(){o&&o.ensureAborted(),c.abort()},forceMinPriority:function(p){c.forceMinPriority(p)}}},t}(),Ne=Fr,Vr=function(){function t(e){this.strategies=e}return t.prototype.isSupported=function(){return st(this.strategies,ne.method("isSupported"))},t.prototype.connect=function(e,n){return Wr(this.strategies,e,function(r,i){return function(o,c){if(i[r].error=o,o){Qr(i)&&n(!0);return}Me(i,function(p){p.forceMinPriority(c.transport.priority)}),n(null,c)}})},t}(),kt=Vr;function Wr(t,e,n){var r=at(t,function(i,o,c,p){return i.connect(e,n(o,p))});return{abort:function(){Me(r,Yr)},forceMinPriority:function(i){Me(r,function(o){o.forceMinPriority(i)})}}}function Qr(t){return Ge(t,function(e){return Boolean(e.error)})}function Yr(t){!t.error&&!t.aborted&&(t.abort(),t.aborted=!0)}var Jr=function(){function t(e,n,r){this.strategy=e,this.transports=n,this.ttl=r.ttl||1800*1e3,this.usingTLS=r.useTLS,this.timeline=r.timeline}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(e,n){var r=this.usingTLS,i=Gr(r),o=[this.strategy];if(i&&i.timestamp+this.ttl>=ne.now()){var c=this.transports[i.transport];c&&(this.timeline.info({cached:!0,transport:i.transport,latency:i.latency}),o.push(new Ne([c],{timeout:i.latency*2+1e3,failFast:!0})))}var p=ne.now(),N=o.pop().connect(e,function T(F,he){F?(Yt(r),o.length>0?(p=ne.now(),N=o.pop().connect(e,T)):n(F)):(Kr(r,he.transport.name,ne.now()-p),n(null,he))});return{abort:function(){N.abort()},forceMinPriority:function(T){e=T,N&&N.forceMinPriority(T)}}},t}(),Xr=Jr;function Ct(t){return"pusherTransport"+(t?"TLS":"NonTLS")}function Gr(t){var e=U.getLocalStorage();if(e)try{var n=e[Ct(t)];if(n)return JSON.parse(n)}catch{Yt(t)}return null}function Kr(t,e,n){var r=U.getLocalStorage();if(r)try{r[Ct(t)]=Re({timestamp:ne.now(),transport:e,latency:n})}catch{}}function Yt(t){var e=U.getLocalStorage();if(e)try{delete e[Ct(t)]}catch{}}var Zr=function(){function t(e,n){var r=n.delay;this.strategy=e,this.options={delay:r}}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(e,n){var r=this.strategy,i,o=new ce(this.options.delay,function(){i=r.connect(e,n)});return{abort:function(){o.ensureAborted(),i&&i.abort()},forceMinPriority:function(c){e=c,i&&i.forceMinPriority(c)}}},t}(),ut=Zr,ei=function(){function t(e,n,r){this.test=e,this.trueBranch=n,this.falseBranch=r}return t.prototype.isSupported=function(){var e=this.test()?this.trueBranch:this.falseBranch;return e.isSupported()},t.prototype.connect=function(e,n){var r=this.test()?this.trueBranch:this.falseBranch;return r.connect(e,n)},t}(),Ke=ei,ti=function(){function t(e){this.strategy=e}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(e,n){var r=this.strategy.connect(e,function(i,o){o&&r.abort(),n(i,o)});return r},t}(),ni=ti;function Ze(t){return function(){return t.isSupported()}}var ri=function(t,e,n){var r={};function i(cn,lo,fo,ho,po){var un=n(t,cn,lo,fo,ho,po);return r[cn]=un,un}var o=Object.assign({},e,{hostNonTLS:t.wsHost+":"+t.wsPort,hostTLS:t.wsHost+":"+t.wssPort,httpPath:t.wsPath}),c=Object.assign({},o,{useTLS:!0}),p=Object.assign({},e,{hostNonTLS:t.httpHost+":"+t.httpPort,hostTLS:t.httpHost+":"+t.httpsPort,httpPath:t.httpPath}),N={loop:!0,timeout:15e3,timeoutLimit:6e4},T=new Qt({lives:2,minPingDelay:1e4,maxPingDelay:t.activityTimeout}),F=new Qt({lives:2,minPingDelay:1e4,maxPingDelay:t.activityTimeout}),he=i("ws","ws",3,o,T),Ee=i("wss","ws",3,c,T),oo=i("sockjs","sockjs",1,p),tn=i("xhr_streaming","xhr_streaming",1,p,F),ao=i("xdr_streaming","xdr_streaming",1,p,F),nn=i("xhr_polling","xhr_polling",1,p),so=i("xdr_polling","xdr_polling",1,p),rn=new Ne([he],N),co=new Ne([Ee],N),uo=new Ne([oo],N),on=new Ne([new Ke(Ze(tn),tn,ao)],N),an=new Ne([new Ke(Ze(nn),nn,so)],N),sn=new Ne([new Ke(Ze(on),new kt([on,new ut(an,{delay:4e3})]),an)],N),Ot=new Ke(Ze(sn),sn,uo),Lt;return e.useTLS?Lt=new kt([rn,new ut(Ot,{delay:2e3})]):Lt=new kt([rn,new ut(co,{delay:2e3}),new ut(Ot,{delay:5e3})]),new Xr(new ni(new Ke(Ze(he),Lt,Ot)),r,{ttl:18e5,timeline:e.timeline,useTLS:e.useTLS})},ii=ri,oi=function(){var t=this;t.timeline.info(t.buildTimelineMessage({transport:t.name+(t.options.useTLS?"s":"")})),t.hooks.isInitialized()?t.changeState("initialized"):t.hooks.file?(t.changeState("initializing"),P.load(t.hooks.file,{useTLS:t.options.useTLS},function(e,n){t.hooks.isInitialized()?(t.changeState("initialized"),n(!0)):(e&&t.onError(e),t.onClose(),n(!1))})):t.onClose()},ai={getRequest:function(t){var e=new window.XDomainRequest;return e.ontimeout=function(){t.emit("error",new K),t.close()},e.onerror=function(n){t.emit("error",n),t.close()},e.onprogress=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText)},e.onload=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText),t.emit("finished",200),t.close()},e},abortRequest:function(t){t.ontimeout=t.onerror=t.onprogress=t.onload=null,t.abort()}},si=ai,ci=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ui=256*1024,li=function(t){ci(e,t);function e(n,r,i){var o=t.call(this)||this;return o.hooks=n,o.method=r,o.url=i,o}return e.prototype.start=function(n){var r=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){r.close()},U.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(n)},e.prototype.close=function(){this.unloader&&(U.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},e.prototype.onChunk=function(n,r){for(;;){var i=this.advanceBuffer(r);if(i)this.emit("chunk",{status:n,data:i});else break}this.isBufferTooLong(r)&&this.emit("buffer_too_long")},e.prototype.advanceBuffer=function(n){var r=n.slice(this.position),i=r.indexOf(`
`);return i!==-1?(this.position+=i+1,r.slice(0,i)):null},e.prototype.isBufferTooLong=function(n){return this.position===n.length&&n.length>ui},e}(De),fi=li,Tt;(function(t){t[t.CONNECTING=0]="CONNECTING",t[t.OPEN=1]="OPEN",t[t.CLOSED=3]="CLOSED"})(Tt||(Tt={}));var Ie=Tt,di=1,hi=function(){function t(e,n){this.hooks=e,this.session=Xt(1e3)+"/"+gi(8),this.location=pi(n),this.readyState=Ie.CONNECTING,this.openStream()}return t.prototype.send=function(e){return this.sendRaw(JSON.stringify([e]))},t.prototype.ping=function(){this.hooks.sendHeartbeat(this)},t.prototype.close=function(e,n){this.onClose(e,n,!0)},t.prototype.sendRaw=function(e){if(this.readyState===Ie.OPEN)try{return U.createSocketRequest("POST",Jt(vi(this.location,this.session))).start(e),!0}catch{return!1}else return!1},t.prototype.reconnect=function(){this.closeStream(),this.openStream()},t.prototype.onClose=function(e,n,r){this.closeStream(),this.readyState=Ie.CLOSED,this.onclose&&this.onclose({code:e,reason:n,wasClean:r})},t.prototype.onChunk=function(e){if(e.status===200){this.readyState===Ie.OPEN&&this.onActivity();var n,r=e.data.slice(0,1);switch(r){case"o":n=JSON.parse(e.data.slice(1)||"{}"),this.onOpen(n);break;case"a":n=JSON.parse(e.data.slice(1)||"[]");for(var i=0;i<n.length;i++)this.onEvent(n[i]);break;case"m":n=JSON.parse(e.data.slice(1)||"null"),this.onEvent(n);break;case"h":this.hooks.onHeartbeat(this);break;case"c":n=JSON.parse(e.data.slice(1)||"[]"),this.onClose(n[0],n[1],!0);break}}},t.prototype.onOpen=function(e){this.readyState===Ie.CONNECTING?(e&&e.hostname&&(this.location.base=mi(this.location.base,e.hostname)),this.readyState=Ie.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},t.prototype.onEvent=function(e){this.readyState===Ie.OPEN&&this.onmessage&&this.onmessage({data:e})},t.prototype.onActivity=function(){this.onactivity&&this.onactivity()},t.prototype.onError=function(e){this.onerror&&this.onerror(e)},t.prototype.openStream=function(){var e=this;this.stream=U.createSocketRequest("POST",Jt(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",function(n){e.onChunk(n)}),this.stream.bind("finished",function(n){e.hooks.onFinished(e,n)}),this.stream.bind("buffer_too_long",function(){e.reconnect()});try{this.stream.start()}catch(n){ne.defer(function(){e.onError(n),e.onClose(1006,"Could not start streaming",!1)})}},t.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},t}();function pi(t){var e=/([^\?]*)\/*(\??.*)/.exec(t);return{base:e[1],queryString:e[2]}}function vi(t,e){return t.base+"/"+e+"/xhr_send"}function Jt(t){var e=t.indexOf("?")===-1?"?":"&";return t+e+"t="+ +new Date+"&n="+di++}function mi(t,e){var n=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(t);return n[1]+e+n[3]}function Xt(t){return U.randomInt(t)}function gi(t){for(var e=[],n=0;n<t;n++)e.push(Xt(32).toString(32));return e.join("")}var yi=hi,_i={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr_streaming"+t.queryString},onHeartbeat:function(t){t.sendRaw("[]")},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){t.onClose(1006,"Connection interrupted ("+e+")",!1)}},bi=_i,wi={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr"+t.queryString},onHeartbeat:function(){},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){e===200?t.reconnect():t.onClose(1006,"Connection interrupted ("+e+")",!1)}},Si=wi,ki={getRequest:function(t){var e=U.getXHRAPI(),n=new e;return n.onreadystatechange=n.onprogress=function(){switch(n.readyState){case 3:n.responseText&&n.responseText.length>0&&t.onChunk(n.status,n.responseText);break;case 4:n.responseText&&n.responseText.length>0&&t.onChunk(n.status,n.responseText),t.emit("finished",n.status),t.close();break}},n},abortRequest:function(t){t.onreadystatechange=null,t.abort()}},Ci=ki,Ti={createStreamingSocket:function(t){return this.createSocket(bi,t)},createPollingSocket:function(t){return this.createSocket(Si,t)},createSocket:function(t,e){return new yi(t,e)},createXHR:function(t,e){return this.createRequest(Ci,t,e)},createRequest:function(t,e,n){return new fi(t,e,n)}},Gt=Ti;Gt.createXDR=function(t,e){return this.createRequest(si,t,e)};var xi=Gt,Pi={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:f,DependenciesReceivers:L,getDefaultStrategy:ii,Transports:cr,transportConnectionInitializer:oi,HTTPFactory:xi,TimelineTransport:Fn,getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(t){var e=this;window.Pusher=t;var n=function(){e.onDocumentBody(t.ready)};window.JSON?n():P.load("json2",{},n)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:J,jsonp:qn}},onDocumentBody:function(t){var e=this;document.body?t():setTimeout(function(){e.onDocumentBody(t)},0)},createJSONPRequest:function(t,e){return new Bn(t,e)},createScriptRequest:function(t){return new In(t)},getLocalStorage:function(){try{return window.localStorage}catch{return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){var t=this.getXHRAPI();return new t},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return fr},createWebSocket:function(t){var e=this.getWebSocketAPI();return new e(t)},createSocketRequest:function(t,e){if(this.isXHRSupported())return this.HTTPFactory.createXHR(t,e);if(this.isXDRSupported(e.indexOf("https:")===0))return this.HTTPFactory.createXDR(t,e);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var t=this.getXHRAPI();return Boolean(t)&&new t().withCredentials!==void 0},isXDRSupported:function(t){var e=t?"https:":"http:",n=this.getProtocol();return Boolean(window.XDomainRequest)&&n===e},addUnloadListener:function(t){window.addEventListener!==void 0?window.addEventListener("unload",t,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",t)},removeUnloadListener:function(t){window.addEventListener!==void 0?window.removeEventListener("unload",t,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",t)},randomInt:function(t){var e=function(){var n=window.crypto||window.msCrypto,r=n.getRandomValues(new Uint32Array(1))[0];return r/Math.pow(2,32)};return Math.floor(e()*t)}},U=Pi,xt;(function(t){t[t.ERROR=3]="ERROR",t[t.INFO=6]="INFO",t[t.DEBUG=7]="DEBUG"})(xt||(xt={}));var lt=xt,Oi=function(){function t(e,n,r){this.key=e,this.session=n,this.events=[],this.options=r||{},this.sent=0,this.uniqueID=0}return t.prototype.log=function(e,n){e<=this.options.level&&(this.events.push(re({},n,{timestamp:ne.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},t.prototype.error=function(e){this.log(lt.ERROR,e)},t.prototype.info=function(e){this.log(lt.INFO,e)},t.prototype.debug=function(e){this.log(lt.DEBUG,e)},t.prototype.isEmpty=function(){return this.events.length===0},t.prototype.send=function(e,n){var r=this,i=re({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],e(i,function(o,c){o||r.sent++,n&&n(o,c)}),!0},t.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},t}(),Li=Oi,Ai=function(){function t(e,n,r,i){this.name=e,this.priority=n,this.transport=r,this.options=i||{}}return t.prototype.isSupported=function(){return this.transport.isSupported({useTLS:this.options.useTLS})},t.prototype.connect=function(e,n){var r=this;if(this.isSupported()){if(this.priority<e)return Kt(new V,n)}else return Kt(new te,n);var i=!1,o=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),c=null,p=function(){o.unbind("initialized",p),o.connect()},N=function(){c=$e.createHandshake(o,function(Ee){i=!0,he(),n(null,Ee)})},T=function(Ee){he(),n(Ee)},F=function(){he();var Ee;Ee=Re(o),n(new Q(Ee))},he=function(){o.unbind("initialized",p),o.unbind("open",N),o.unbind("error",T),o.unbind("closed",F)};return o.bind("initialized",p),o.bind("open",N),o.bind("error",T),o.bind("closed",F),o.initialize(),{abort:function(){i||(he(),c?c.close():o.close())},forceMinPriority:function(Ee){i||r.priority<Ee&&(c?c.close():o.close())}}},t}(),Ei=Ai;function Kt(t,e){return ne.defer(function(){e(t)}),{abort:function(){},forceMinPriority:function(){}}}var Mi=U.Transports,Ri=function(t,e,n,r,i,o){var c=Mi[n];if(!c)throw new ae(n);var p=(!t.enabledTransports||ke(t.enabledTransports,e)!==-1)&&(!t.disabledTransports||ke(t.disabledTransports,e)===-1),N;return p?(i=Object.assign({ignoreNullOrigin:t.ignoreNullOrigin},i),N=new Ei(e,r,o?o.getAssistant(c):c,i)):N=Di,N},Di={isSupported:function(){return!1},connect:function(t,e){var n=ne.defer(function(){e(new te)});return{abort:function(){n.ensureAborted()},forceMinPriority:function(){}}}},$i=function(t,e){var n="socket_id="+encodeURIComponent(t.socketId);for(var r in e.params)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(e.params[r]);if(e.paramsProvider!=null){var i=e.paramsProvider();for(var r in i)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(i[r])}return n},ji=function(t){if(typeof U.getAuthorizers()[t.transport]=="undefined")throw"'"+t.transport+"' is not a recognized auth transport";return function(e,n){var r=$i(e,t);U.getAuthorizers()[t.transport](U,r,t,u.UserAuthentication,n)}},qi=ji,Ni=function(t,e){var n="socket_id="+encodeURIComponent(t.socketId);n+="&channel_name="+encodeURIComponent(t.channelName);for(var r in e.params)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(e.params[r]);if(e.paramsProvider!=null){var i=e.paramsProvider();for(var r in i)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(i[r])}return n},Ii=function(t){if(typeof U.getAuthorizers()[t.transport]=="undefined")throw"'"+t.transport+"' is not a recognized auth transport";return function(e,n){var r=Ni(e,t);U.getAuthorizers()[t.transport](U,r,t,u.ChannelAuthorization,n)}},Hi=Ii,Bi=function(t,e,n){var r={authTransport:e.transport,authEndpoint:e.endpoint,auth:{params:e.params,headers:e.headers}};return function(i,o){var c=t.channel(i.channelName),p=n(c,r);p.authorize(i.socketId,o)}},Ve=function(){return Ve=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ve.apply(this,arguments)};function Ui(t,e){var n={activityTimeout:t.activityTimeout||x.activityTimeout,cluster:t.cluster||x.cluster,httpPath:t.httpPath||x.httpPath,httpPort:t.httpPort||x.httpPort,httpsPort:t.httpsPort||x.httpsPort,pongTimeout:t.pongTimeout||x.pongTimeout,statsHost:t.statsHost||x.stats_host,unavailableTimeout:t.unavailableTimeout||x.unavailableTimeout,wsPath:t.wsPath||x.wsPath,wsPort:t.wsPort||x.wsPort,wssPort:t.wssPort||x.wssPort,enableStats:Wi(t),httpHost:zi(t),useTLS:Vi(t),wsHost:Fi(t),userAuthenticator:Qi(t),channelAuthorizer:Ji(t,e)};return"disabledTransports"in t&&(n.disabledTransports=t.disabledTransports),"enabledTransports"in t&&(n.enabledTransports=t.enabledTransports),"ignoreNullOrigin"in t&&(n.ignoreNullOrigin=t.ignoreNullOrigin),"timelineParams"in t&&(n.timelineParams=t.timelineParams),"nacl"in t&&(n.nacl=t.nacl),n}function zi(t){return t.httpHost?t.httpHost:t.cluster?"sockjs-"+t.cluster+".pusher.com":x.httpHost}function Fi(t){return t.wsHost?t.wsHost:t.cluster?Zt(t.cluster):Zt(x.cluster)}function Zt(t){return"ws-"+t+".pusher.com"}function Vi(t){return U.getProtocol()==="https:"?!0:t.forceTLS!==!1}function Wi(t){return"enableStats"in t?t.enableStats:"disableStats"in t?!t.disableStats:!1}function Qi(t){var e=Ve(Ve({},x.userAuthentication),t.userAuthentication);return"customHandler"in e&&e.customHandler!=null?e.customHandler:qi(e)}function Yi(t,e){var n;return"channelAuthorization"in t?n=Ve(Ve({},x.channelAuthorization),t.channelAuthorization):(n={transport:t.authTransport||x.authTransport,endpoint:t.authEndpoint||x.authEndpoint},"auth"in t&&("params"in t.auth&&(n.params=t.auth.params),"headers"in t.auth&&(n.headers=t.auth.headers)),"authorizer"in t&&(n.customHandler=Bi(e,n,t.authorizer))),n}function Ji(t,e){var n=Yi(t,e);return"customHandler"in n&&n.customHandler!=null?n.customHandler:Hi(n)}var Xi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gi=function(t){Xi(e,t);function e(n){var r=t.call(this,function(i,o){ie.debug("No callbacks on watchlist events for "+i)})||this;return r.pusher=n,r.bindWatchlistInternalEvent(),r}return e.prototype.handleEvent=function(n){var r=this;n.data.events.forEach(function(i){r.emit(i.name,i)})},e.prototype.bindWatchlistInternalEvent=function(){var n=this;this.pusher.connection.bind("message",function(r){var i=r.event;i==="pusher_internal:watchlist_events"&&n.handleEvent(r)})},e}(De),Ki=Gi;function Zi(){var t,e,n=new Promise(function(r,i){t=r,e=i});return{promise:n,resolve:t,reject:e}}var eo=Zi,to=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),no=function(t){to(e,t);function e(n){var r=t.call(this,function(i,o){ie.debug("No callbacks on user for "+i)})||this;return r.signin_requested=!1,r.user_data=null,r.serverToUserChannel=null,r.signinDonePromise=null,r._signinDoneResolve=null,r._onAuthorize=function(i,o){if(i){ie.warn("Error during signin: "+i),r._cleanup();return}r.pusher.send_event("pusher:signin",{auth:o.auth,user_data:o.user_data})},r.pusher=n,r.pusher.connection.bind("state_change",function(i){var o=i.previous,c=i.current;o!=="connected"&&c==="connected"&&r._signin(),o==="connected"&&c!=="connected"&&(r._cleanup(),r._newSigninPromiseIfNeeded())}),r.watchlist=new Ki(n),r.pusher.connection.bind("message",function(i){var o=i.event;o==="pusher:signin_success"&&r._onSigninSuccess(i.data),r.serverToUserChannel&&r.serverToUserChannel.name===i.channel&&r.serverToUserChannel.handleEvent(i)}),r}return e.prototype.signin=function(){this.signin_requested||(this.signin_requested=!0,this._signin())},e.prototype._signin=function(){!this.signin_requested||(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))},e.prototype._onSigninSuccess=function(n){try{this.user_data=JSON.parse(n.user_data)}catch{ie.error("Failed parsing user data after signin: "+n.user_data),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){ie.error("user_data doesn't contain an id. user_data: "+this.user_data),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()},e.prototype._subscribeChannels=function(){var n=this,r=function(i){i.subscriptionPending&&i.subscriptionCancelled?i.reinstateSubscription():!i.subscriptionPending&&n.pusher.connection.state==="connected"&&i.subscribe()};this.serverToUserChannel=new bt("#server-to-user-"+this.user_data.id,this.pusher),this.serverToUserChannel.bind_global(function(i,o){i.indexOf("pusher_internal:")===0||i.indexOf("pusher:")===0||n.emit(i,o)}),r(this.serverToUserChannel)},e.prototype._cleanup=function(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()},e.prototype._newSigninPromiseIfNeeded=function(){if(!!this.signin_requested&&!(this.signinDonePromise&&!this.signinDonePromise.done)){var n=eo(),r=n.promise,i=n.resolve;r.done=!1;var o=function(){r.done=!0};r.then(o).catch(o),this.signinDonePromise=r,this._signinDoneResolve=i}},e}(De),ro=no,en=function(){function t(e,n){var r=this;if(io(e),n=n||{},!n.cluster&&!(n.wsHost||n.httpHost)){var i=b.buildLogSuffix("javascriptQuickStart");ie.warn("You should always specify a cluster when connecting. "+i)}"disableStats"in n&&ie.warn("The disableStats option is deprecated in favor of enableStats"),this.key=e,this.config=Ui(n,this),this.channels=$e.createChannels(),this.global_emitter=new De,this.sessionID=U.randomInt(1e9),this.timeline=new Li(this.key,this.sessionID,{cluster:this.config.cluster,features:t.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:lt.INFO,version:x.VERSION}),this.config.enableStats&&(this.timelineSender=$e.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+U.TimelineTransport.name}));var o=function(c){return U.getDefaultStrategy(r.config,c,Ri)};this.connection=$e.createConnectionManager(this.key,{getStrategy:o,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:Boolean(this.config.useTLS)}),this.connection.bind("connected",function(){r.subscribeAll(),r.timelineSender&&r.timelineSender.send(r.connection.isUsingTLS())}),this.connection.bind("message",function(c){var p=c.event,N=p.indexOf("pusher_internal:")===0;if(c.channel){var T=r.channel(c.channel);T&&T.handleEvent(c)}N||r.global_emitter.emit(c.event,c.data)}),this.connection.bind("connecting",function(){r.channels.disconnect()}),this.connection.bind("disconnected",function(){r.channels.disconnect()}),this.connection.bind("error",function(c){ie.warn(c)}),t.instances.push(this),this.timeline.info({instances:t.instances.length}),this.user=new ro(this),t.isReady&&this.connect()}return t.ready=function(){t.isReady=!0;for(var e=0,n=t.instances.length;e<n;e++)t.instances[e].connect()},t.getClientFeatures=function(){return de(ze({ws:U.Transports.ws},function(e){return e.isSupported({})}))},t.prototype.channel=function(e){return this.channels.find(e)},t.prototype.allChannels=function(){return this.channels.all()},t.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var e=this.connection.isUsingTLS(),n=this.timelineSender;this.timelineSenderTimer=new Oe(6e4,function(){n.send(e)})}},t.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},t.prototype.bind=function(e,n,r){return this.global_emitter.bind(e,n,r),this},t.prototype.unbind=function(e,n,r){return this.global_emitter.unbind(e,n,r),this},t.prototype.bind_global=function(e){return this.global_emitter.bind_global(e),this},t.prototype.unbind_global=function(e){return this.global_emitter.unbind_global(e),this},t.prototype.unbind_all=function(e){return this.global_emitter.unbind_all(),this},t.prototype.subscribeAll=function(){var e;for(e in this.channels.channels)this.channels.channels.hasOwnProperty(e)&&this.subscribe(e)},t.prototype.subscribe=function(e){var n=this.channels.add(e,this);return n.subscriptionPending&&n.subscriptionCancelled?n.reinstateSubscription():!n.subscriptionPending&&this.connection.state==="connected"&&n.subscribe(),n},t.prototype.unsubscribe=function(e){var n=this.channels.find(e);n&&n.subscriptionPending?n.cancelSubscription():(n=this.channels.remove(e),n&&n.subscribed&&n.unsubscribe())},t.prototype.send_event=function(e,n,r){return this.connection.send_event(e,n,r)},t.prototype.shouldUseTLS=function(){return this.config.useTLS},t.prototype.signin=function(){this.user.signin()},t.instances=[],t.isReady=!1,t.logToConsole=!1,t.Runtime=U,t.ScriptReceivers=U.ScriptReceivers,t.DependenciesReceivers=U.DependenciesReceivers,t.auth_callbacks=U.auth_callbacks,t}(),Pt=w.default=en;function io(t){if(t==null)throw"You must pass your app key when you instantiate Pusher."}U.setup(en)}])})})(Dn);var xa=Go(Dn.exports);class mn extends Zo{constructor(){super();be(this,"id");be(this,"mensaje");be(this,"link");be(this,"per_originador");be(this,"per_destinatario");be(this,"leida");be(this,"tipo_notificacion");be(this,"created_at");this.id=0,this.mensaje="",this.link="",this.per_originador=0,this.per_destinatario=0,this.leida=!1,this.tipo_notificacion="",this.created_at=""}}class Pa extends ea{constructor(){super(xn.notificaciones)}}const ot=Cn("notificaciones",()=>{const a=new xa("75be7ac21d59f7c4a627",{cluster:"sa1"}),d=Lo(new mn),O=new mn,w=ve(),g=ve([]),{notificarAdvertencia:m}=An(),f=Ao.nuevo,R=new Ko;async function x(){const{result:h}=await new Pa().listar({leida:0});g.value=h}async function j(){try{R.activar(),x()}catch{m("Ocurri\xF3 un error al listar todas las notificaciones")}finally{R.desactivar()}}function s(h){g.value.unshift(h)}async function L(){await j()}async function P(){const h=g.value.findIndex(l=>l.id===w.value),S=Eo.getInstance(),b=S.getEndpoint(xn.notificaciones)+"/marcar-leida/"+w.value,u=await S.post(b);return u.data.modelo.leida&&g.value.splice(h,1),u.data.modelo}return{pusher:a,notificacion:d,notificacionReset:O,idNotificacion:w,listadoNotificaciones:g,accionNotificacion:f,listar:j,agregar:s,actualizar:L,marcarLeida:P}}),gn={NOVEDADES:{label:"NOVEDADES",icono:"bi-bell"},ARCHIVO_REPORTE:{label:"ARCHIVO REPORTE",icono:"bi-archive"}};class Oa{obtener(d){switch(d){case gn.NOVEDADES.label:return gn.NOVEDADES.icono}}}class La{constructor(){be(this,"store",Ue());be(this,"notificacionesPusherStore",ot())}start(){const d=this.notificacionesPusherStore,O=ot(),w=d.pusher;w.subscribe("actualizar-notificaciones-tracker"),w.bind("actualizar-notificaciones-event",function(){O.listar()})}}function $n(a){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(d){d.active.postMessage({action:"notificacionPush",titulo:a.titulo,mensaje:a.mensaje,icono:a.icono,link:a.link,badge:a.badge})})}class Aa{constructor(){be(this,"store",Ue());be(this,"notificacionesPusherStore",ot())}start(){const d=this.notificacionesPusherStore,O=d.pusher;O.subscribe("archivo-reporte-tracker-"+this.store.user.id),O.bind("archivo-reporte-event",function(w){d.agregar(w.notificacion),$n({titulo:w.notificacion.tipo_notificacion,mensaje:w.notificacion.mensaje,link:w.notificacion.link})})}}class Ea{constructor(){be(this,"store",Ue());be(this,"notificacionesPusherStore",ot())}start(){const d=this.notificacionesPusherStore,O=d.pusher;O.subscribe("notificaciones-clientes-tracker"),O.bind("notificaciones-clientes-event",function(w){d.agregar(w.notificacion),$n({titulo:w.notificacion.tipo_notificacion,mensaje:w.notificacion.mensaje,link:w.notificacion.link})})}}class Ma{init(){new La().start(),new Ea().start(),new Aa().start()}}const Ra={class:"full-width text-right q-pr-md q-mb-md"},Da={class:"block text-grey-8 text-weight-regular"},$a=pt({__name:"BotonNotificaciones",setup(a){const d=ot(),O=Ln(),w=new Oa,g=ve(!1),m=H(()=>O.screen.xs?"100%":"450px"),f=H(()=>"center middle"),R=H(()=>d.listadoNotificaciones);async function x(P){d.idNotificacion=P,await d.marcarLeida()}const j=H(()=>s(d.listadoNotificaciones));function s(P){const h={};P.forEach(u=>{const l=u.tipo_notificacion;h[l]||(h[l]=[]),h[l].push(u)});const S=Object.keys(h).sort(),b={};return S.forEach(u=>{b[u]=h[u]}),b}return Dt.extend(Ta),Dt.locale("es"),"Notification"in window&&Notification.requestPermission().then(P=>{}),new Ma().init(),kn(()=>d.listar()),(P,h)=>(X(),ge(Be,{dense:"",unelevated:"","no-caps":"",class:"q-pl-sm",onClick:h[2]||(h[2]=Mo(S=>g.value=!0,["self"]))},{default:D(()=>[E(Te,{name:"bi-bell",class:Tn([{"q-mr-sm":!At(O).screen.xs},"bg-icon color-icon-navbar q-pa-xs rounded-field"]),size:"xs"},null,8,["class"]),E(On,{class:"bg-dark"},{default:D(()=>h[3]||(h[3]=[_e("Notificaciones")])),_:1}),R.value.length>0?(X(),ge(Ho,{key:0,color:"positive",floating:""},{default:D(()=>[Z("span",null,Ce(R.value.length),1)]),_:1})):we("",!0),E(Pn,{modelValue:g.value,"onUpdate:modelValue":h[1]||(h[1]=S=>g.value=S),self:f.value,"transition-show":"slide-left","transition-hide":"slide-right",style:Do({width:m.value}),class:"window-height bg-desenfoque-2 custom-shadow my-font","max-height":"100vh",anchor:"center middle"},{default:D(()=>[Z("div",Ra,[E(Be,{icon:"bi-chevron-right",round:"",dense:"",unelevated:"",color:"primary",class:"q-mt-sm",onClick:h[0]||(h[0]=S=>g.value=!1)})]),E(jt,{style:{"min-width":"140px","max-width":"450px"},class:"q-px-xs"},{default:D(()=>[R.value.length===0?(X(),ge(Je,{key:0,class:"q-mb-md text-grey-7"},{default:D(()=>[E(nt,null,{default:D(()=>[E(Te,{name:"bi-bell-slash"})]),_:1}),E(xe,null,{default:D(()=>[E(je,null,{default:D(()=>h[4]||(h[4]=[_e("No tienes notificaciones nuevas")])),_:1})]),_:1})]),_:1})):we("",!0),(X(!0),Se(rt,null,it(Object.keys(j.value),S=>(X(),ge(En,{key:S,class:"overflow-hidden q-mb-sm expansion",label:`${S} (${j.value[S].length})`,"header-class":"text-bold bg-header-collapse text-primary full-width",icon:"bi-dot"},{default:D(()=>[(X(!0),Se(rt,null,it(j.value[S],b=>(X(),ge(Je,{key:b.id,to:b.link},{default:D(()=>[E(xe,{avatar:""},{default:D(()=>[E(Te,{color:"grey-8",name:At(w).obtener(b.tipo_notificacion)},null,8,["name"])]),_:2},1024),E(xe,{class:"full-width"},{default:D(()=>[_e(Ce(b.mensaje)+" ",1),Z("span",Da,Ce(At(Dt)(b.created_at).fromNow()),1),E(je,{class:"row justify-end q-pt-sm"},{default:D(()=>[E(Be,{icon:"bi-check",label:"Marcar como le\xEDdo",dense:"",color:"positive",size:"sm",outline:"","no-caps":"",rounded:"",unelevated:"",onClick:u=>x(b.id)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:2},1032,["label"]))),128)),E(Ro),E(Je,{clickable:"",to:"notificaciones"},{default:D(()=>[E(nt,null,{default:D(()=>[E(Te,{name:"bi-bell"})]),_:1}),E(xe,null,{default:D(()=>h[5]||(h[5]=[_e("Ver todas las notificaciones")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","self","style"])]),_:1}))}});var ja="assets/user.2f6ea01d.png";const qa=pt({name:"MainLayout",components:{EssentialLink:ka,EssentialLoading:Vo,SimpleChat:_a,FooterComponent:ua,BotonNotificaciones:$a},setup(){var te,B,z;const a=Yo(),d=Ue(),O=oa(),w=ve(!1),g=$o(),m=ve((te=dn.getItem("dark"))!=null?te:!1),f=ve([]),R=ve(!1),x=ve(),j=ve(),s=ve(-1),L=ve([]),P=Ln();P.dark.set(Boolean(m.value));function h(){P.dark.set(Boolean(m.value)),dn.set("dark",m.value)}const S=H(()=>{var G;const J=d.user;return J?`${J.name} ${(G=J.apellidos)!=null?G:""} `:""});async function b(){await d.logout(),g.replace({name:"Login"})}function u(){return O.links.filter(G=>G.can).map(G=>{if(G.children&&Array.isArray(G.children)){const M=G.children.find(k=>k.can);M&&(G.link=M.link)}return G})}function l(J){const G=u();L.value=v(G,J),s.value=-1}function v(J,G){const M=G==null?void 0:G.toLowerCase().split(" ");function k(A){return M==null?void 0:M.every(C=>{var $;return new RegExp(C,"i").test(($=A.title)!=null?$:"")&&A.can})}function y(A,C=""){return A.reduce(($,q)=>{const Y=q.children?y(q.children,q.title):[];return k(q)&&(!q.children||q.children.length===0)?$.push({...q,parentTitle:C}):Y.length>0&&$.push(...Y),$},[])}return y(J)}const I=()=>{s.value=-1,x.value=null,R.value=!1};function K(){const J=L.value[s.value].link;J&&g.push(J),I()}function V(){s.value=s.value>0?s.value-1:0}function Q(){s.value<j.value.length-1&&s.value++}d.isMobileVersion=P.platform.is.mobile,a.consultarConfiguracion().then(()=>a.cambiarFavicon());const ue=H(()=>{var J;return(J=a.configuracion)==null?void 0:J.nombre_empresa});jo(()=>document.title=(f.value.length?`(${f.value.length})`:"")+" "+ue.value);const ae=()=>{if(Et.is.android||Et.is.ios||Et.is.capacitor){const J=P.dark.isActive?"#060606":"#DFDFDF";vn.setBackgroundColor({color:J});const G=P.dark.isActive?ht.Dark:ht.Light;vn.setStyle({style:G})}};return le(H(()=>P.dark.isActive),ae),ae(),{imagenPerfil:`https://ui-avatars.com/api/?name=${(B=d.user)==null?void 0:B.name.substr(0,1)}+${(z=d.user)==null?void 0:z.apellidos.substr(0,1)}&bold=true&background=7aa81528&color=7aa815`,appName:ue,logoApp:"img/logo.jpg",links:H(()=>O.links),logoClaro:H(()=>{var J;return(J=a.configuracion)==null?void 0:J.logo_claro}),logoOscuro:H(()=>{var J;return(J=a.configuracion)==null?void 0:J.logo_oscuro}),leftDrawerOpen:w,toggleLeftDrawer(){w.value=!w.value},logout:b,nombreUsuario:S,modoOscuro:m,toggleDarkMode:h,mostrarBuscar:R,resetearBuscador:I,onKeyUp:V,onKeyDown:Q,onKeyEnter:K,buscarModulo:x,filtrarMenu:l,resultadosBusqueda:L,posicionResultados:s,refListadoBusqueda:j}}}),Na={key:0,class:"q-pa-xs"},Ia={key:0,class:"row justify-center"},Ha={key:0,class:"text-color"},Ba=["src"],Ua={class:"row no-wrap q-pa-md"},za={class:"column items-center"},Fa={class:"absolute-top text-center q-pa-md"},Va=["src"];function Wa(a,d,O,w,g,m){const f=tt("boton-notificaciones"),R=tt("EssentialLink"),x=tt("simple-chat"),j=tt("router-view");return X(),ge(Wo,{view:"lHh Lpr lFf"},{default:D(()=>[E(ta,{class:"bg-body-background text-dark"},{default:D(()=>[E(Mt,{name:"slide-fade",mode:"out-in"},{default:D(()=>[a.mostrarBuscar?(X(),Se("div",Na,[E($t,{modelValue:a.buscarModulo,"onUpdate:modelValue":[d[0]||(d[0]=s=>a.buscarModulo=s),a.filtrarMenu],placeholder:"PRESIONE ESC PARA CERRAR","bg-color":"grey-1","input-class":"text-black",onKeyup:[d[1]||(d[1]=ft(s=>a.resetearBuscador(),["esc"])),ft(a.onKeyUp,["arrow-up"]),ft(a.onKeyDown,["arrow-down"]),ft(a.onKeyEnter,["enter"])],onClear:d[2]||(d[2]=s=>a.resetearBuscador()),autofocus:"",dense:"",outlined:"",clearable:""},{prepend:D(()=>[E(Te,{name:"search",size:"xs"})]),_:1},8,["modelValue","onUpdate:modelValue","onKeyup"])])):we("",!0)]),_:1}),E(Mt,{name:"scale",mode:"out-in"},{default:D(()=>[a.buscarModulo?(X(),Se("div",Ia,[E(jt,{dense:"",bordered:"",class:"lista-busqueda bg-solid custom-shadow text-color",style:{width:"90%",margin:"0 auto"}},{default:D(()=>[(X(!0),Se(rt,null,it(a.resultadosBusqueda,(s,L)=>(X(),Se("div",{ref_for:!0,ref:"refListadoBusqueda",key:L},[s.link?(X(),ge(Je,{key:0,focused:a.posicionResultados==L,clickable:"",to:s.link,onClick:d[3]||(d[3]=P=>a.resetearBuscador())},{default:D(()=>[E(xe,{avatar:""},{default:D(()=>[E(Te,{name:s.icon},null,8,["name"])]),_:2},1024),E(xe,null,{default:D(()=>[E(je,null,{default:D(()=>[_e(Ce(s.title),1)]),_:2},1024),s.parentTitle?(X(),ge(je,{key:0,caption:""},{default:D(()=>[_e(Ce(s.parentTitle),1)]),_:2},1024)):we("",!0)]),_:2},1024)]),_:2},1032,["focused","to"])):we("",!0)]))),128))]),_:1})])):we("",!0)]),_:1}),E(Bo,{class:"row justify-between"},{default:D(()=>[Z("span",null,[E(Be,{color:"primary",dense:"","aria-label":"Menu",unelevated:"",square:"",onClick:a.toggleLeftDrawer},{default:D(()=>d[9]||(d[9]=[Z("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[Z("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3 5C3 4.44772 3.44772 4 4 4H16C16.5523 4 17 4.44772 17 5C17 5.55228 16.5523 6 16 6H4C3.44772 6 3 5.55228 3 5Z",fill:"#fff"}),Z("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3 10C3 9.44772 3.44772 9 4 9H16C16.5523 9 17 9.44772 17 10C17 10.5523 16.5523 11 16 11H4C3.44772 11 3 10.5523 3 10Z",fill:"#fff"}),Z("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3 15C3 14.4477 3.44772 14 4 14H10C10.5523 14 11 14.4477 11 15C11 15.5523 10.5523 16 10 16H4C3.44772 16 3 15.5523 3 15Z",fill:"#fff"})],-1)])),_:1},8,["onClick"]),E(Be,{onClick:d[4]||(d[4]=s=>a.mostrarBuscar=!a.mostrarBuscar),unelevated:"","no-caps":""},{default:D(()=>[E(Te,{name:"bi-search",size:"xs",class:"bg-icon color-icon-navbar q-pa-xs rounded-field q-mr-xs"}),a.$q.screen.xs?we("",!0):(X(),Se("span",Ha,"Buscar"))]),_:1})]),Z("span",null,[E(qo,{modelValue:a.modoOscuro,"onUpdate:modelValue":d[5]||(d[5]=s=>a.modoOscuro=s),"checked-icon":"bi-moon-fill",label:"","unchecked-icon":"bi-sun-fill",onClick:d[6]||(d[6]=s=>a.toggleDarkMode())},null,8,["modelValue"]),E(f),E(Be,{"no-caps":"",flat:"",dense:"",round:""},{default:D(()=>[E(nt,{size:"38px"},{default:D(()=>[Z("img",{src:a.imagenPerfil},null,8,Ba)]),_:1}),E(Pn,null,{default:D(()=>[Z("div",Ua,[Z("div",za,[_e(Ce(a.nombreUsuario)+" ",1),E(nt,{size:"68px",class:"q-mb-md"},{default:D(()=>d[10]||(d[10]=[Z("img",{src:ja},null,-1)])),_:1}),qt(E(Be,{label:"Cerrar sesi\xF3n",color:"primary",size:"sm","no-wrap":"","no-caps":"",push:"",onClick:d[7]||(d[7]=s=>a.logout())},null,512),[[Uo]])])])]),_:1})]),_:1})])]),_:1})]),_:1}),E(na,{modelValue:a.leftDrawerOpen,"onUpdate:modelValue":d[8]||(d[8]=s=>a.leftDrawerOpen=s),"show-if-above":"",class:"bg-drawer border-right q-px-sm my-font"},{default:D(()=>[Z("div",Fa,[E(nt,{size:"98px",square:""},{default:D(()=>{var s;return[Z("img",{src:(s=a.$q.dark.isActive?a.logoOscuro:a.logoClaro)!=null?s:"",height:"60",class:"q-mx-auto block"},null,8,Va)]}),_:1})]),E(Fo,{style:{height:"calc(100% - 150px)","margin-top":"120px"}},{default:D(()=>[d[11]||(d[11]=Z("div",{class:"text-center"},Ce("Bur\xF3 de cr\xE9dito Ecuador"),-1)),E(jt,null,{default:D(()=>[(X(!0),Se(rt,null,it(a.links,s=>{var L;return X(),Se("div",{key:s.title},[s.hasOwnProperty("header")&&s.can?(X(),ge(je,{key:0,header:""},{default:D(()=>[_e(Ce(s.header),1)]),_:2},1024)):(X(),ge(R,{key:1,title:(L=s.title)!=null?L:"",link:s.link,target:s.target,icon:s.icon,children:s.children,can:s.can},null,8,["title","link","target","icon","children","can"]))])}),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]),E(Qo,{class:"bg-body-background q-pb-xl my-font"},{default:D(()=>[E(x),E(j,null,{default:D(({Component:s})=>[E(Mt,{name:"scale",mode:"out-in"},{default:D(()=>[(X(),ge(No,{exclude:["tablero_principal"]},[(X(),ge(Io(s)))],1024))]),_:2},1024)]),_:1})]),_:1})]),_:1})}var Ss=vt(qa,[["render",Wa],["__scopeId","data-v-439674b6"]]);export{Ss as default};
