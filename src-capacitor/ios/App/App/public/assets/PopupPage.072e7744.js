var N=Object.defineProperty;var M=(t,e,i)=>e in t?N(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var p=(t,e,i)=>(M(t,typeof e!="symbol"?e+"":e,i),i);import{d as A,c as y,J as s,V as S,O as l,bk as k,L as a,K as d,a1 as f,S as Q,j as r,M as T,N as $,a6 as D,r as F,$ as L,U as C,B as U,a2 as j,bj as B,bl as O,bi as R,X as _,F as q,Z as z,P,aN as G,bI as J}from"./index.6072a1b1.js";import{r as I}from"./index.d3fb51b6.js";import{Q as K}from"./QToolbarTitle.80dd577d.js";import{Q as X,a as Z,C as H}from"./QTooltip.0b1018fa.js";import{Q as W}from"./QPage.2411b3e2.js";import{_ as V}from"./plugin-vue_export-helper.21dcd24c.js";import{B as Y}from"./buttonSubmits.178f5d81.js";import{S as x}from"./SelectorImagen.5afa715e.js";import{C as h}from"./ContenedorSimpleMixin.6f374d2f.js";import{T as ee}from"./TransacccionSimpleController.f4dc3690.js";import{E as te}from"./entidadAuditable.9f5621ba.js";import{u as oe}from"./index.1be77ee8.js";import"./position-engine.71479b28.js";import"./selection.ec88bd7c.js";import"./QChip.2863bbd0.js";import"./format.8ac60962.js";import"./QImg.351239be.js";import"./utils.c7760b0c.js";import"./date.3330acff.js";import"./notificaciones.fe24470b.js";import"./use-quasar.52f58024.js";import"./StatusEssentialLoading.d6258813.js";import"./Hidratable.166e9fe1.js";const ae=A({name:"CardImage",props:{imageUrl:{type:String,required:!0},title:{type:String,required:!0},subtitle:{type:String,required:!0},permitirCustomAction:{type:Boolean,default:!1},permitirCustomAction2:{type:Boolean,default:!1},customAction:{type:Function,required:!1},customAction2:{type:Function,required:!1}},emits:["clickEvent","eliminar","customAction","customAction2"],setup(t,{emit:e}){const i=()=>{e("clickEvent")};return{card_image_url:y(()=>t.imageUrl),card_title:y(()=>t.title),card_subtitle:y(()=>t.subtitle),clickEvent:i}}}),ie={class:"wrapper-buttons-card"},re={class:"nombre-empresa"};function le(t,e,i,c,u,m){return s(),S(k,{class:"full-height",flat:"",bordered:"",onClick:t.clickEvent},{default:l(()=>[a("div",{class:"card-custom-header",style:D({backgroundImage:"linear-gradient(to bottom, rgba(255, 255, 255, 0) 4%, rgba(0, 0, 0, 0.15) 300%), url("+t.card_image_url+")"})},[a("div",ie,[t.permitirCustomAction?(s(),d("div",{key:0,class:"custom-action me-1 text-primary",onClick:e[0]||(e[0]=f(n=>t.$emit("customAction"),["stop"]))},e[3]||(e[3]=[a("i",{class:"bi-images"},null,-1)]))):Q("",!0),t.permitirCustomAction2?(s(),d("div",{key:1,class:"custom-action me-1 text-primary",onClick:e[1]||(e[1]=f(n=>t.$emit("customAction2"),["stop"]))},e[4]||(e[4]=[a("i",{class:"bi-play-btn"},null,-1)]))):Q("",!0),a("div",{class:"delete-card",onClick:e[2]||(e[2]=f(n=>t.$emit("eliminar"),["stop"]))},[r(X,{class:"bg-dark"},{default:l(()=>e[5]||(e[5]=[T("Eliminar")])),_:1}),e[6]||(e[6]=a("i",{class:"bi-x-lg"},null,-1))])]),a("span",re,$(t.card_subtitle),1)],4)]),_:1},8,["onClick"])}var se=V(ae,[["render",le],["__scopeId","data-v-0a34febe"]]),ne=A({name:"CardTransaccionesSimples",components:{ButtonSubmits:Y,CardImage:se},props:{mixin:{type:Object,required:!0},tituloModal:{type:String,required:!1,default:"Modal"},customAction:{type:Function,required:!1},customAction2:{type:Function,required:!1}},setup(t){const e=F(!1),{listar:i,guardar:c,reestablecer:u,consultar:m,eliminar:n,editar:b}=t.mixin.useComportamiento(),{entidad:o,listado:v,accion:w}=t.mixin.useReferencias();i();const E=()=>e.value=!0;return{entidad:o,listado:v,accion:w,listar:i,guardar:c,editar:b,ocultar:()=>{u(),e.value=!1},mostrar:E,mostrarDialog:e,cardSeleccionado:async g=>{await m({id:g}),E(),w.value=L.editar},eliminarCard:async g=>{console.log(g),await m({id:g}),await n(o)}}}}),de="assets/add_alt.edfa62de.svg";const ue={class:"row q-col-gutter-sm"},me={class:"col-12 col-md-4 q-mb-sm"};function pe(t,e,i,c,u,m){const n=C("button-submits"),b=C("card-image");return s(),S(W,{padding:""},{default:l(()=>[r(R,{modelValue:t.mostrarDialog,"onUpdate:modelValue":e[3]||(e[3]=o=>t.mostrarDialog=o),maximized:""},{default:l(()=>[r(k,null,{default:l(()=>[r(Z,null,{default:l(()=>[r(K,null,{default:l(()=>[T($(t.tituloModal),1)]),_:1}),U(r(j,{flat:"",round:"",dense:"",icon:"close"},null,512),[[H]])]),_:1}),r(B,null,{default:l(()=>[O(t.$slots,"formulario",{},void 0,!0),r(n,{accion:t.accion,onCancelar:e[0]||(e[0]=o=>t.ocultar()),onGuardar:e[1]||(e[1]=o=>t.guardar(t.entidad)),onEditar:e[2]||(e[2]=o=>t.editar(t.entidad))},null,8,["accion"])]),_:3})]),_:3})]),_:3},8,["modelValue"]),e[6]||(e[6]=a("p",{class:"text-bold q-mb-md"},"Publicidad popup",-1)),a("div",ue,[a("div",me,[r(k,{class:"card-image full-height",flat:"",bordered:"",onClick:e[4]||(e[4]=o=>t.mostrar())},{default:l(()=>[r(B,{class:"text-center"},{default:l(()=>e[5]||(e[5]=[a("img",{src:de,width:"160",height:"160",class:"card-img-top q-pa-sm",style:{"object-fit":"contain"}},null,-1),a("a",{class:"text-bold text-center block"}," Crear",-1)])),_:1})]),_:1})]),(s(!0),d(q,null,_(t.listado,o=>(s(),d("div",{class:"col-12 col-md-4 q-mb-sm",key:o.id},[r(b,{"image-url":o.imagen,title:"",subtitle:o.titulo,class:"card-image","permitir-custom-action":!1,"permitir-custom-action2":!1,onClickEvent:v=>t.cardSeleccionado(o.id),onEliminar:v=>t.eliminarCard(o.id),onCustomAction:v=>t.runCustomAction(o.id),onCustomAction2:v=>t.runCustomAction2(o.id)},null,8,["image-url","subtitle","onClickEvent","onEliminar","onCustomAction","onCustomAction2"])]))),128))])]),_:3})}var ce=V(ne,[["render",pe],["__scopeId","data-v-6d49586d"]]);class be extends ee{constructor(){super(z.popup)}}class ve extends te{constructor(){super();p(this,"id");p(this,"titulo");p(this,"imagen");p(this,"url_destino");p(this,"nueva_pestana");this.id=null,this.titulo=null,this.imagen=null,this.url_destino=null,this.nueva_pestana=!1}}var ge=A({components:{CardLayout:ce,SelectorImagen:x},setup(){const t=new h(ve,new be),{entidad:e}=t.useReferencias(),{setValidador:i}=t.useComportamiento(),u=oe({titulo:{required:I},imagen:{required:I}},e);i(u.value);function m(){e.url_destino||(e.nueva_pestana=!1)}return{mixin:t,publicidad:e,resetearNuevaPestana:m,v$:u}}});const fe={class:"row q-col-gutter-xs"},$e={class:"col-12 col-md-6 q-mb-md"},Ce={class:"error-msg"},ye={class:"col-12 col-md-6"},ke={class:"col-12 col-md-6 q-mb-md"},_e={class:"col-12 col-md-6"},qe={class:"error-msg"};function Ae(t,e,i,c,u,m){const n=C("selector-imagen"),b=C("card-layout");return s(),S(b,{"titulo-modal":"Publicidad en popup","titulo-panel":"Panel de publicidad en popup",textoBotonCrearModal:"Crear publicidad",mixin:t.mixin},{formulario:l(()=>[a("form",{id:"formulario",onSubmit:e[5]||(e[5]=f(()=>{},["prevent"]))},[a("div",fe,[a("div",$e,[e[6]||(e[6]=a("label",{class:"block q-mb-sm"},"Titulo",-1)),r(P,{modelValue:t.publicidad.titulo,"onUpdate:modelValue":e[0]||(e[0]=o=>t.publicidad.titulo=o),placeholder:"Obligatorio",dense:"",outlined:"",error:!!t.v$.titulo.$errors.length},{error:l(()=>[(s(!0),d(q,null,_(t.v$.titulo.$errors,o=>(s(),d("div",{key:o.$uid},[a("div",Ce,$(o.$message),1)]))),128))]),_:1},8,["modelValue","error"])]),a("div",ye,[e[7]||(e[7]=a("label",{class:"block q-mb-sm"},"URL destino",-1)),r(P,{modelValue:t.publicidad.url_destino,"onUpdate:modelValue":e[1]||(e[1]=o=>t.publicidad.url_destino=o),placeholder:"Obligatorio",onBlur:e[2]||(e[2]=o=>t.resetearNuevaPestana()),dense:"",outlined:""},null,8,["modelValue"])]),U(a("div",ke,[e[8]||(e[8]=a("br",null,null,-1)),r(J,{modelValue:t.publicidad.nueva_pestana,"onUpdate:modelValue":e[3]||(e[3]=o=>t.publicidad.nueva_pestana=o),label:"Abrir en nueva pesta\xF1a"},null,8,["modelValue"])],512),[[G,t.publicidad.url_destino]]),a("div",_e,[e[9]||(e[9]=a("label",{class:"q-mb-sm block"},"Imagen",-1)),r(n,{imagen:t.publicidad.imagen,"onUpdate:modelValue":e[4]||(e[4]=o=>t.publicidad.imagen=o)},{errorr:l(()=>[(s(!0),d(q,null,_(t.v$.imagen.$errors,o=>(s(),d("div",{key:o.$uid},[a("div",qe,$(o.$message),1)]))),128))]),_:1},8,["imagen"])])])],32)]),_:1},8,["mixin"])}var xe=V(ge,[["render",Ae]]);export{xe as default};
