var M=Object.defineProperty;var N=(t,e,i)=>e in t?M(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var p=(t,e,i)=>(N(t,typeof e!="symbol"?e+"":e,i),i);import{d as A,c as y,K as s,X as V,P as r,bk as k,M as a,L as d,a4 as f,U as E,j as l,N as T,O as C,a9 as D,r as F,a1 as L,V as $,C as U,a5 as j,bj as P,bl as O,bi as R,Y as _,F as q,_ as z,R as B,aQ as G,bJ as J}from"./index.aea1effc.js";import{r as I}from"./index.cab36ed2.js";import{Q as K}from"./QToolbarTitle.2f0d394a.js";import{Q as X,a as Y,C as H}from"./QTooltip.d74f897f.js";import{Q as W}from"./QPage.161283b6.js";import{_ as S}from"./plugin-vue_export-helper.21dcd24c.js";import{B as Z}from"./buttonSubmits.08b9f7f5.js";import{S as x}from"./SelectorImagen.fda68ec4.js";import{C as h}from"./ContenedorSimpleMixin.9e6b94a2.js";import{T as ee}from"./TransacccionSimpleController.d6ace83b.js";import{E as te}from"./entidadAuditable.9f5621ba.js";import{u as oe}from"./index.9737fa5c.js";import"./position-engine.c19cb930.js";import"./selection.a0a4309d.js";import"./QChip.f8291af0.js";import"./format.8ac60962.js";import"./QImg.31eba1ca.js";import"./utils.27a4761f.js";import"./date.0b7cec79.js";import"./notificaciones.305263b9.js";import"./Hidratable.166e9fe1.js";const ae=A({name:"CardImage",props:{imageUrl:{type:String,required:!0},title:{type:String,required:!0},subtitle:{type:String,required:!0},permitirCustomAction:{type:Boolean,default:!1},permitirCustomAction2:{type:Boolean,default:!1},customAction:{type:Function,required:!1},customAction2:{type:Function,required:!1}},emits:["clickEvent","eliminar","customAction","customAction2"],setup(t,{emit:e}){const i=()=>{e("clickEvent")};return{card_image_url:y(()=>t.imageUrl),card_title:y(()=>t.title),card_subtitle:y(()=>t.subtitle),clickEvent:i}}}),ie={class:"wrapper-buttons-card"},le={class:"nombre-empresa"};function re(t,e,i,c,u,m){return s(),V(k,{class:"full-height",flat:"",bordered:"",onClick:t.clickEvent},{default:r(()=>[a("div",{class:"card-custom-header",style:D({backgroundImage:"linear-gradient(to bottom, rgba(255, 255, 255, 0) 4%, rgba(0, 0, 0, 0.15) 300%), url("+t.card_image_url+")"})},[a("div",ie,[t.permitirCustomAction?(s(),d("div",{key:0,class:"custom-action me-1 text-primary",onClick:e[0]||(e[0]=f(n=>t.$emit("customAction"),["stop"]))},e[3]||(e[3]=[a("i",{class:"bi-images"},null,-1)]))):E("",!0),t.permitirCustomAction2?(s(),d("div",{key:1,class:"custom-action me-1 text-primary",onClick:e[1]||(e[1]=f(n=>t.$emit("customAction2"),["stop"]))},e[4]||(e[4]=[a("i",{class:"bi-play-btn"},null,-1)]))):E("",!0),a("div",{class:"delete-card",onClick:e[2]||(e[2]=f(n=>t.$emit("eliminar"),["stop"]))},[l(X,{class:"bg-dark"},{default:r(()=>e[5]||(e[5]=[T("Eliminar")])),_:1}),e[6]||(e[6]=a("i",{class:"bi-x-lg"},null,-1))])]),a("span",le,C(t.card_subtitle),1)],4)]),_:1},8,["onClick"])}var se=S(ae,[["render",re],["__scopeId","data-v-0a34febe"]]),ne=A({name:"CardTransaccionesSimples",components:{ButtonSubmits:Z,CardImage:se},props:{mixin:{type:Object,required:!0},tituloModal:{type:String,required:!1,default:"Modal"},customAction:{type:Function,required:!1},customAction2:{type:Function,required:!1}},setup(t){const e=F(!1),{listar:i,guardar:c,reestablecer:u,consultar:m,eliminar:n,editar:b}=t.mixin.useComportamiento(),{entidad:o,listado:v,accion:Q}=t.mixin.useReferencias();i();const w=()=>e.value=!0;return{entidad:o,listado:v,accion:Q,listar:i,guardar:c,editar:b,ocultar:()=>{u(),e.value=!1},mostrar:w,mostrarDialog:e,cardSeleccionado:async g=>{await m({id:g}),w(),Q.value=L.editar},eliminarCard:async g=>{console.log(g),await m({id:g}),await n(o)}}}}),de="assets/add_alt.edfa62de.svg";const ue={class:"row q-col-gutter-sm"},me={class:"col-12 col-md-4 q-mb-sm"};function pe(t,e,i,c,u,m){const n=$("button-submits"),b=$("card-image");return s(),V(W,{padding:""},{default:r(()=>[l(R,{modelValue:t.mostrarDialog,"onUpdate:modelValue":e[3]||(e[3]=o=>t.mostrarDialog=o),maximized:""},{default:r(()=>[l(k,null,{default:r(()=>[l(Y,null,{default:r(()=>[l(K,null,{default:r(()=>[T(C(t.tituloModal),1)]),_:1}),U(l(j,{flat:"",round:"",dense:"",icon:"close"},null,512),[[H]])]),_:1}),l(P,null,{default:r(()=>[O(t.$slots,"formulario",{},void 0,!0),l(n,{accion:t.accion,onCancelar:e[0]||(e[0]=o=>t.ocultar()),onGuardar:e[1]||(e[1]=o=>t.guardar(t.entidad)),onEditar:e[2]||(e[2]=o=>t.editar(t.entidad))},null,8,["accion"])]),_:3})]),_:3})]),_:3},8,["modelValue"]),e[6]||(e[6]=a("p",{class:"text-bold q-mb-md"},"Publicidad popup",-1)),a("div",ue,[a("div",me,[l(k,{class:"card-image full-height",flat:"",bordered:"",onClick:e[4]||(e[4]=o=>t.mostrar())},{default:r(()=>[l(P,{class:"text-center"},{default:r(()=>e[5]||(e[5]=[a("img",{src:de,width:"160",height:"160",class:"card-img-top q-pa-sm",style:{"object-fit":"contain"}},null,-1),a("a",{class:"text-bold text-center block"}," Crear",-1)])),_:1})]),_:1})]),(s(!0),d(q,null,_(t.listado,o=>(s(),d("div",{class:"col-12 col-md-4 q-mb-sm",key:o.id},[l(b,{"image-url":o.imagen,title:"",subtitle:o.titulo,class:"card-image","permitir-custom-action":!1,"permitir-custom-action2":!1,onClickEvent:v=>t.cardSeleccionado(o.id),onEliminar:v=>t.eliminarCard(o.id),onCustomAction:v=>t.runCustomAction(o.id),onCustomAction2:v=>t.runCustomAction2(o.id)},null,8,["image-url","subtitle","onClickEvent","onEliminar","onCustomAction","onCustomAction2"])]))),128))])]),_:3})}var ce=S(ne,[["render",pe],["__scopeId","data-v-6d49586d"]]);class be extends ee{constructor(){super(z.popup)}}class ve extends te{constructor(){super();p(this,"id");p(this,"titulo");p(this,"imagen");p(this,"url_destino");p(this,"nueva_pestana");this.id=null,this.titulo=null,this.imagen=null,this.url_destino=null,this.nueva_pestana=!1}}var ge=A({components:{CardLayout:ce,SelectorImagen:x},setup(){const t=new h(ve,new be),{entidad:e}=t.useReferencias(),{setValidador:i}=t.useComportamiento(),u=oe({titulo:{required:I},imagen:{required:I}},e);i(u.value);function m(){e.url_destino||(e.nueva_pestana=!1)}return{mixin:t,publicidad:e,resetearNuevaPestana:m,v$:u}}});const fe={class:"row q-col-gutter-xs"},Ce={class:"col-12 col-md-6 q-mb-md"},$e={class:"error-msg"},ye={class:"col-12 col-md-6"},ke={class:"col-12 col-md-6 q-mb-md"},_e={class:"col-12 col-md-6"},qe={class:"error-msg"};function Ae(t,e,i,c,u,m){const n=$("selector-imagen"),b=$("card-layout");return s(),V(b,{"titulo-modal":"Publicidad en popup","titulo-panel":"Panel de publicidad en popup",textoBotonCrearModal:"Crear publicidad",mixin:t.mixin},{formulario:r(()=>[a("form",{id:"formulario",onSubmit:e[5]||(e[5]=f(()=>{},["prevent"]))},[a("div",fe,[a("div",Ce,[e[6]||(e[6]=a("label",{class:"block q-mb-sm"},"Titulo",-1)),l(B,{modelValue:t.publicidad.titulo,"onUpdate:modelValue":e[0]||(e[0]=o=>t.publicidad.titulo=o),placeholder:"Obligatorio",dense:"",outlined:"",error:!!t.v$.titulo.$errors.length},{error:r(()=>[(s(!0),d(q,null,_(t.v$.titulo.$errors,o=>(s(),d("div",{key:o.$uid},[a("div",$e,C(o.$message),1)]))),128))]),_:1},8,["modelValue","error"])]),a("div",ye,[e[7]||(e[7]=a("label",{class:"block q-mb-sm"},"URL destino",-1)),l(B,{modelValue:t.publicidad.url_destino,"onUpdate:modelValue":e[1]||(e[1]=o=>t.publicidad.url_destino=o),placeholder:"Obligatorio",onBlur:e[2]||(e[2]=o=>t.resetearNuevaPestana()),dense:"",outlined:""},null,8,["modelValue"])]),U(a("div",ke,[e[8]||(e[8]=a("br",null,null,-1)),l(J,{modelValue:t.publicidad.nueva_pestana,"onUpdate:modelValue":e[3]||(e[3]=o=>t.publicidad.nueva_pestana=o),label:"Abrir en nueva pesta\xF1a"},null,8,["modelValue"])],512),[[G,t.publicidad.url_destino]]),a("div",_e,[e[9]||(e[9]=a("label",{class:"q-mb-sm block"},"Imagen",-1)),l(n,{imagen:t.publicidad.imagen,"onUpdate:modelValue":e[4]||(e[4]=o=>t.publicidad.imagen=o)},{errorr:r(()=>[(s(!0),d(q,null,_(t.v$.imagen.$errors,o=>(s(),d("div",{key:o.$uid},[a("div",qe,C(o.$message),1)]))),128))]),_:1},8,["imagen"])])])],32)]),_:1},8,["mixin"])}var We=S(ge,[["render",Ae]]);export{We as default};
